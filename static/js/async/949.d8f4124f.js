(()=>{"use strict";var __webpack_modules__={970:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{callDestroyLifetimeFun:()=>Oe,destroyCard:()=>be,loadCard:()=>Ae});var Ee=function(){return this||(0,eval)("this")}(),d=Ee;function ce(e){let t=typeof e;return"object"!==t?t:Array.isArray(e)?"array":null==e?"null":e instanceof Date?"date":e instanceof RegExp?"regExp":"object"}function x(e){return"string"==typeof e}function M(e){return"object"===ce(e)}function X(e){return"function"===ce(e)}function D(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return ge(e,Error)}}function ge(e,t){try{return e instanceof t}catch{return!1}}function U(e){return nativeConsole}var ye=function(){return this||(0,eval)("this")}(),De=U(`groupId:${ye.groupId||"-1"}`),Z=nativeConsole,_=Z,w=class extends Error{constructor(e,t){super(e),t&&(this.stack=t)}},k=class extends w{constructor(){super(...arguments),this.kind="INTERNAL_ERROR"}},ee=class extends w{constructor(){super(...arguments),this.kind="USER_ERROR"}},E=class extends ee{constructor(){super(...arguments),this.name="USER_RUNTIME_ERROR"}},g=class extends k{constructor(){super(...arguments),this.name="INTERNAL_RUNTIME_ERROR"}},F=class extends k{constructor(){super(...arguments),this.name="INVOKE_ERROR"}},m="__Card__",B="app-service.js",pe="LynxGetSourceMapReleaseError",te={filename:"lynx_core",slot:"cacb96a8f906f8e29917cae2ed3799f4c6cab324",release:"unknown_version"},q=class{constructor(){this.observersFunc=[]}registerObserver(e){if(this.observersFunc.includes(e))return _.log("Subject: Observer has been attached already.");this.observersFunc.push(e)}removeObserver(e){let t=this.observersFunc.indexOf(e);if(-1===t)return _.log("Subject: Nonexistent observer.");this.observersFunc.splice(t,1)}notifyDataChange(e){this.observersFunc.forEach(t=>{if("function"==typeof t)try{t(e)}catch(e){_.log("SharedData change and notifyDataChange error info:"+e)}})}};d.multiApps={},d.currentAppId="",d.globComponentRegistPath="",d.sharedData={},d.globDynamicComponentEntry=m,d.shareDataSubject=new q,d.TaroLynx={},d.bundleSupportLoadScript=!0;var{loadScript:Xe}=d,l=d,ve=/\d+/,y=class r{constructor(e){this.major=0,this.minor=0,this.revision=0,this.build=0,e=String(e),[this.major=0,this.minor=0,this.revision=0,this.build=0]=e.split(".").map(e=>{let t=ve.exec(e);return t&&t.length>0?+t[0]:0})}gt(e){return"string"==typeof e&&(e=new r(e)),this.major>e.major||!(this.major<e.major)&&(this.minor>e.minor||!(this.minor<e.minor)&&(this.revision>e.revision||!(this.revision<e.revision)&&(this.build>e.build||(this.build<e.build,!1))))}eq(e){return"string"==typeof e&&(e=new r(e)),this.major===e.major&&this.minor===e.minor&&this.revision===e.revision&&this.build===e.build}lt(e){return!this.eq(e)&&!this.gt(e)}gte(e){return this.eq(e)||this.gt(e)}lte(e){return this.eq(e)||this.lt(e)}},ot=new y("2.4"),it=new y("2.7"),st=new y("2.9"),at=new y("2.12"),lt=new y("2.14");function h(e,t,n){let{originError:r,errorCode:i,errorLevel:s,runType:o=te}=n??{};_.error("The following error occurred in the JSRuntime:"),_.error(`${e?.message}
${e?.stack}`),e.cause=M(e.cause)?JSON.stringify(e.cause):e.cause;try{t.reportException(e,{...o,buildVersion:"unknown_version",versionCode:"unknown_version",errorCode:i,errorLevel:s})}catch(e){_.error(`reportError err:
`,e)}}var b=class{constructor(e,t){this.getApp=e,this.getNativeApp=t,this.setSourceMapRelease=e=>{if(D(e)&&e.name===u.kGetSourceMapReleaseErrorName&&x(e.message)&&x(e.stack))return void this.getNativeApp().__SetSourceMapRelease({name:e.name,message:e.message,stack:e.stack});JSON.stringify(e)},this.getSourceMapRelease=e=>{let t=this.getNativeApp().__GetSourceMapRelease(e);return t||(t=this.getNativeApp().__GetSourceMapRelease(u.kDefaultSourceMapURL)),t},this.getApp=e,this.getNativeApp=t}rebind(e){this.getApp=e}},j=class r{static{this.count=0}constructor(e){this.effect=e,this.id="__lynx-inner-js-animation-"+r.count++}cancel(){this.effect.target.cancelAnimate(this)}pause(){this.effect.target.pauseAnimate(this)}play(){this.effect.target.playAnimate(this)}},G=class{constructor(e,t,n){this.target=e,this.keyframes=t,this.options=n}},O=class{constructor(e,t,n){this._root=e,this._idSelector="#"+t,this._lynx=n,this._element=void 0}ensureElement(){this._element||(this._element=this._lynx.createElement(this._root,this._idSelector))}animate(e,t){this.ensureElement();let n=new j(new G(this,e,t));return this._element.animate(0,n.id,e,t),n}playAnimate(e){this._element.animate(1,e.id,void 0,void 0)}pauseAnimate(e){this._element.animate(2,e.id,void 0,void 0)}cancelAnimate(e){this._element.animate(3,e.id,void 0,void 0)}finishAnimate(e){this._element.animate(4,e.id,void 0,void 0)}setProperty(e,t){if(this.ensureElement(),"string"==typeof e&&"string"==typeof t)this._element.setProperty({[e]:t});else if("object"==typeof e)this._element.setProperty(e);else throw Error(`setProperty's param must be string or object. While current type is ${typeof e} and ${typeof t}.`)}},ue=O,S=class r{constructor(e,t,n){this._component=e,this._taskQueue=t,this._native_proxy=n,this._fire_immediately=!1,this._root_unique_id=void 0}static fromQuery(e,t){return new r(t??e._component,e._taskQueue.slice(),e._native_proxy)}static newEmptyQuery(e,t){return new r(t??"",[],e)}commitTask(e){let t=r.fromQuery(this,this._component);return(t._taskQueue.push(e),this._fire_immediately)?void t.exec():t}in(e){return e.createSelectorQuery(this)}select(e){return new R(this,{type:0,identifier:e,component_id:this._component,root_unique_id:this._root_unique_id,first_only:!0})}selectAll(e){return new R(this,{type:0,identifier:e,component_id:this._component,root_unique_id:this._root_unique_id,first_only:!1})}selectReactRef(e){if(this._taskQueue.length){let e="selectReactRef() should be called before any other selector query methods";nativeConsole.warn(e);let t=Error(e);h(new F(e,t.stack),this._native_proxy.nativeApp);return}return this._fire_immediately=!0,new R(this,{type:1,identifier:e,component_id:this._component,root_unique_id:this._root_unique_id,first_only:!0})}selectRoot(){return this.select("")}selectUniqueID(e){return new R(this,{type:2,identifier:e.toString(),component_id:this._component,root_unique_id:this._root_unique_id,first_only:!0})}exec(){for(let e=0;e<this._taskQueue.length;++e)this._taskQueue[e](this._native_proxy)}setRoot(e){return this._root_unique_id=Number(e),this}},R=class{static{this.nodePool={}}constructor(e,t){this._nodeSelectToken=t,this._selectorQuery=e}invoke(e){let t=t=>{let n=t=>{0===t.code?e.success&&e.success(t.data):e.fail&&e.fail(t)};if(!this._nodeSelectToken.first_only)return void n({code:5,data:"selectAll not supported for invoke method"});t.nativeApp.invokeUIMethod(this._nodeSelectToken.type,this._nodeSelectToken.identifier,this._nodeSelectToken.component_id,e.method,e.params??{},n,this._nodeSelectToken.root_unique_id)};return this._selectorQuery.commitTask(t)}path(e){let t=t=>{let n=t=>{e&&e(t.data,t.status)};t.nativeApp.getPathInfo(this._nodeSelectToken.type,this._nodeSelectToken.identifier,this._nodeSelectToken.component_id,this._nodeSelectToken.first_only,n,this._nodeSelectToken.root_unique_id)};return this._selectorQuery.commitTask(t)}fields(e,t){let n=n=>{let r=r=>{if(e.query){let t=t=>{t.query=S.newEmptyQuery(n),t.query.setRoot(t.unique_id.toString()),e.unique_id||delete t.unique_id};if(this._nodeSelectToken.first_only){let e=r.data;e&&t(e)}else for(let e of r.data)t(e)}t&&t(r.data,r.status)},i=[];for(let t in e){if("query"==t&&!0==e[t]&&!e.unique_id){i.push("unique_id");continue}e[t]&&i.push(t)}n.nativeApp.getFields(this._nodeSelectToken.type,this._nodeSelectToken.identifier,this._nodeSelectToken.component_id,this._nodeSelectToken.first_only,i,r,this._nodeSelectToken.root_unique_id)};return this._selectorQuery.commitTask(n)}setNativeProps(e){let t=t=>{t.nativeApp.setNativeProps(this._nodeSelectToken.type,this._nodeSelectToken.identifier,this._nodeSelectToken.component_id,this._nodeSelectToken.first_only,e,this._nodeSelectToken.root_unique_id)};return this._selectorQuery.commitTask(t)}},T=class r{constructor(e,t,n,i){this.getNativeApp=e,this.getApp=t,this.Promise=n,this.getNativeLynx=i,this.setTimeout=this.getApp().wrapReport(this.getNativeApp().setTimeout,"setTimeout Error"),this.setInterval=this.getApp().wrapReport(this.getNativeApp().setInterval,"setInterval Error"),this.clearInterval=this.getNativeApp().clearInterval,this.clearTimeout=this.getNativeApp().clearTimeout,this.resumeExposure=this.getApp()._apiList.resumeExposure,this.requireModule=(e,t,n)=>{if(this.requireModule.cache[e])return this.requireModule.cache[e];let i=this.getApp().requireModule(e,t,n);return this.requireModule.cache[e]=i,i},this.requireModuleAsync=(e,t)=>{if(t??=e=>{e&&this.getApp().handleUserError(e)},this.requireModuleAsync.cache[e])return void t(null,this.requireModuleAsync.cache[e]);this.getApp().requireModuleAsync(e,(n,i)=>{n||(this.requireModuleAsync.cache[e]=i),t(n,i)})},this.createElement=(e,t)=>this.getNativeLynx().createElement(e,t),this.getElementById=e=>new ue("",e,this),this.reportError=(e,t)=>{let n;if(D(e))n=e;else{let t;n=Error(t="string"!=typeof e?JSON.stringify(e):e)}let{level:i="error"}=t||{},s;switch(i){case"error":default:s=1;break;case"warning":s=2;break;case"fatal":s=0}this.getApp().handleUserError(n,void 0,s)},this.registerModule=(e,t)=>this.getApp().registerModule(e,t),this.getJSModule=e=>this.getApp().getJSModule(e),this.getTextInfo=this.getApp()._apiList.getTextInfo,this.addFont=(e,t)=>{if(!M(e))throw Error("The first argument must be object type");if(!x(e["font-family"])||!x(e.src))throw Error("The font value must have font-family and src");if(!X(t))throw Error("The second argument must be function type");this.getNativeLynx().addFont(e,t)},this.stopExposure=this.getApp()._apiList.stopExposure,this.setObserverFrameRate=this.getApp()._apiList.setObserverFrameRate,this.performance=this.getApp().performance,this.beforePublishEvent=this.getApp()._aopManager._beforePublishEvent,this.setSessionStorageItem=(e,t)=>{this.dispatchSessionStorageEvent({type:"__SetSessionStorageItem",data:{key:e,value:t}})},this.getSessionStorageItem=(e,t)=>{this.getNativeApp().getSessionStorageItem(e,t)},this.subscribeSessionStorage=(e,t)=>{let n=r.__registerSharedDataCounter++;return this.getNativeApp().subscribeSessionStorage(e,n,t),n},this.unsubscribeSessionStorage=(e,t)=>{this.dispatchSessionStorageEvent({type:"__UnSubscribeSessionStorage",data:{key:e,listenerId:t}})},this.getDevtool=this.getNativeLynx().getDevtool,this.getCoreContext=this.getNativeLynx().getCoreContext,this.getJSContext=this.getNativeLynx().getJSContext,this.getUIContext=this.getNativeLynx().getUIContext,this.getCustomSectionSync=this.getNativeLynx().getCustomSectionSync,this.accessibilityAnnounce=this.getNativeApp().nativeModuleProxy.LynxAccessibilityModule?.accessibilityAnnounce,this.requestResourcePrefetch=this.getNativeApp().nativeModuleProxy.LynxResourceModule?.requestResourcePrefetch,this.cancelResourcePrefetch=this.getNativeApp().nativeModuleProxy.LynxResourceModule?.cancelResourcePrefetch,this.setSharedData=(e,t)=>{l.sharedData[e]=t;let n={};n[e]=t,l.shareDataSubject.notifyDataChange(n)},this.getSharedData=e=>l.sharedData[e],this.registerSharedDataObserver=e=>l.shareDataSubject.registerObserver(e),this.removeSharedDataObserver=e=>l.shareDataSubject.removeObserver(e),this.triggerLepusGlobalEvent=(e,t)=>this.getNativeApp().triggerLepusGlobalEvent(e,t),this.reload=(e,t)=>{this.getNativeLynx().reload(e,t)},this.fetchDynamicComponent=(e,t,n,i)=>this.getNativeLynx().fetchDynamicComponent(e,t,n,i),this.QueryComponent=(e,t)=>{let n=()=>{t({code:0,data:{url:e,sync:!0,error_message:"",mode:"cache"},detail:{schema:e,cache:!1,errMsg:""}})};if(this.getApp().loadedDynamicComponentsSet.has(e))return void n();let i=i=>{!0===i.__hasReady?(l.loadDynamicComponent(this.getApp(),e),n()):t(i)};this.getNativeLynx().QueryComponent(e,i)},this.loadDynamicComponent=(e,t,n={})=>new this.Promise((i,s)=>{let o=[],a;if(Array.isArray(e)?(o=e,a=t):"string"==typeof t?(o=[e],a=t):(a=e,n=t),this.getApp().loadedDynamicComponentsSet.has(a))return void i({code:0,data:{url:a,sync:!1,error_message:"",mode:"normal"},detail:{schema:a,cache:!1,errMsg:""}});this.getNativeLynx().fetchDynamicComponent(a,n,e=>{e&&0==e.code?i(e):s(e)},o)}),this.fetch=(e,t)=>new this.Promise((n,i)=>{let s=new(this.getApp())._RequestClass(e,t),o=s.signal;if(o.aborted)return i(o.reason);o.addEventListener("abort",e=>{i(o.reason)});let a={method:s.method,url:s.url,origin:this.getNativeApp().__pageUrl,headers:Object.fromEntries(s.headers.entries()),body:s._arrayBuffer,lynx:s.lynxExtension};this.getApp().NativeModules.LynxFetchModule.fetch(a,e=>{if(!o.aborted)try{let t=new(this.getApp())._ResponseClass(e.body,e);n(t)}catch{i(TypeError(e.statusText))}},e=>{o.aborted||i(TypeError(e.message))})}),this.createSelectorQuery=()=>S.newEmptyQuery({nativeApp:this.getNativeApp(),lynx:this}),this.requestAnimationFrame=e=>this.getNativeApp().requestAnimationFrame(e),this.cancelAnimationFrame=e=>this.getNativeApp().cancelAnimationFrame(e),this.__addReporterCustomInfo=e=>{this.getNativeApp().__addReporterCustomInfo(e)},this.init(void 0)}static{this.__registerSharedDataCounter=0}rebind(e){this.init(e)}init(e){if(e)this.getApp=e,this.__globalProps=this.getNativeLynx().__globalProps||{},this.__presetData=this.getNativeLynx().__presetData||{};else{let e={};this.requireModule.cache=e,this.requireModuleAsync.cache=e,this.__globalProps=this.getNativeLynx().__globalProps||{},this.__presetData=this.getNativeLynx().__presetData||{},this._switches={}}}dispatchSessionStorageEvent(e){0!=this.getCoreContext().dispatchEvent(e)&&this.getJSContext().dispatchEvent(e)}queueMicrotask(e){this.getNativeLynx().queueMicrotask(e)}},v=class{constructor(e){this._internal_callLynxSetModule=e,this._events=new Map}getEventsSize(e){return this._events.get(e)?.length}setCallLynxSetModule(e){this._internal_callLynxSetModule=e}addListener(e,t,n){let r=this._events.get(e);"keyboardstatuschanged"==e&&this._internal_callLynxSetModule&&this._internal_callLynxSetModule("switchKeyBoardDetect",[!0]),r?r.push({listener:t,context:n}):this._events.set(e,[{listener:t,context:n}])}removeListener(e,t){if("function"!=typeof t)throw Error("removeListener only takes instances of Function");let n=this._events.get(e),r=0;Array.isArray(n)&&n.some(e=>{if(t===e.listener)return!0;r++})&&n.splice(r,1),"keyboardstatuschanged"==e&&this._internal_callLynxSetModule&&this._internal_callLynxSetModule("switchKeyBoardDetect",[!1])}emit(e,t){let n=this._events.get(e);Array.isArray(n)&&n.forEach(e=>{let{listener:n,context:r}=e;"function"==typeof n&&n.apply(r||this,t)})}removeAllListeners(e){if("string"==typeof e)return void this._events.delete(e);this._events=new Map}trigger(e,t){let n=this._events.get(e);Array.isArray(n)&&("string"==typeof t&&(t=JSON.parse(t)),n.forEach(e=>{let{listener:n,context:r}=e;"function"==typeof n&&n.call(r||this,t)}))}toggle(e,...t){this.emit(e,t)}},V=class{constructor(){this._beforePublishEvent=new re}},re=class extends v{add(e,t,n){return super.addListener(e,t,n),this}remove(e,t){return super.removeListener(e,t),this}},$=v,Q=class{constructor(e){this._textInfoModule=void 0,this.getTextInfo=(e,t)=>(void 0===this._textInfoModule&&(this._textInfoModule=this._nativeModules.LynxTextInfoModule),this._textInfoModule&&this._textInfoModule.getTextInfo?this._textInfoModule.getTextInfo(e,t):{width:e.length}),this._nativeModules=e}},Y=class{constructor(e){this.resumeExposure=()=>{this._exposureModule.resumeExposure()},this.stopExposure=e=>{this._exposureModule.stopExposure(e)},this.setObserverFrameRate=e=>{this._exposureModule.setObserverFrameRate(e)},this._nativeModules=e,this._exposureModule=this._nativeModules.LynxExposureModule}},ne=class{constructor(e,t){this._selector=e,this._callback=t}invokeCallback(e){this._callback(e)}},oe=class{constructor(e,t,n){this._id=e,this._intersectionObserverModule=t,this._manager=n,this._observationTargets=[],this._defaultMargins={left:0,right:0,top:0,bottom:0}}relativeTo(e,t){return this._intersectionObserverModule.relativeTo(this._id,e,t||this._defaultMargins),this}relativeToViewport(e){return this._intersectionObserverModule.relativeToViewport(this._id,e||this._defaultMargins),this}relativeToScreen(e){return this._intersectionObserverModule.relativeToScreen(this._id,e||this._defaultMargins),this}observe(e,t){this._observationTargets.push(new ne(e,t)),this._intersectionObserverModule.observe(this._id,e,this._observationTargets.length-1)}disconnect(){this._intersectionObserverModule.disconnect(this._id),this._manager.removeObserver(this._id)}invokeCallback(e,t){e<this._observationTargets.length&&this._observationTargets[e].invokeCallback(t)}},J=class{constructor(e){this._nativeModules=e,this._observerId=0,this._observers={},this._defaultOptions={thresholds:[0],initialRatio:0,observeAll:!1}}createIntersectionObserver(e,t){let n=this._nativeModules.IntersectionObserverModule,r=new oe(this._observerId,n,this);return this._observers[this._observerId]=r,n.createIntersectionObserver(this._observerId,e,t||this._defaultOptions),this._observerId++,r}getObserver(e){return this._observers[e]}removeObserver(e){this._observers[e]=null}},de={onPerformance:"lynx.performance.onPerformanceEvent"},H=class{constructor(e,t){this._emitter=e,this._onPerformance=t,this._observedNames=[]}observe(e){this._observedNames.length>0||(this._observedNames=e,this._emitter.addListener(de.onPerformance,this.onPerformanceEvent.bind(this)))}disconnect(){this._observedNames=[],this._emitter.removeListener(de.onPerformance,this.onPerformanceEvent.bind(this))}onPerformanceEvent(e){if(0===this._observedNames.length)return;let t=e.entryType+"."+e.name;(this._observedNames.includes(t)||this._observedNames.includes(e.entryType))&&this._onPerformance(e)}},N={onSetup:"lynx.performance.timing.onSetup",onUpdate:"lynx.performance.timing.onUpdate"},C=class{constructor(e,t){this._emitter=e,this._generatePipelineOptions=t.generatePipelineOptions,this._onPipelineStart=t.onPipelineStart,this._markTiming=t.markPipelineTiming,this._profileStart=t.profileStart,this._profileEnd=t.profileEnd,this._profileMark=t.profileMark,this._profileFlowId=t.profileFlowId,this._isProfileRecording=t.isProfileRecording,this._bindPipelineIdWithTimingFlag=t.bindPipelineIdWithTimingFlag}profileStart(e,t){this._profileStart(e,t)}profileEnd(){this._profileEnd()}profileMark(e,t){this._profileMark(e,t)}profileFlowId(){return this._profileFlowId()}createObserver(e){return new H(this._emitter,e)}isProfileRecording(){return this._isProfileRecording()}addTimingListener(e){this._emitter.addListener(N.onSetup,e.onSetup,e),this._emitter.addListener(N.onUpdate,e.onUpdate,e)}removeTimingListener(e){this._emitter.removeListener(N.onSetup,e.onSetup),this._emitter.removeListener(N.onUpdate,e.onUpdate)}removeAllTimingListener(){this._emitter.removeAllListeners(N.onSetup),this._emitter.removeAllListeners(N.onUpdate)}_initializeAndStartPipeline(){let e=this._generatePipelineOptions();return e&&this._onPipelineStart(e.pipelineID),e}_checkAndBindTimingFlag(e,t){if(!e)return;let n="__lynx_timing_flag";t[n]&&(this._bindPipelineIdWithTimingFlag(e.pipelineID,t[n]),this._markTiming(e.pipelineID,"update_set_state_trigger"),e.needTimestamps=!0)}},_e=C,me=l.LynxJSBI,f=class r{constructor(e){for(let t in this._cachedFunctions={},e)Object.defineProperty(this,t,{get(){if(this._cachedFunctions[t])return this._cachedFunctions[t];let n=e[t];return"function"==typeof n&&(this._cachedFunctions[t]=n),n}})}static create(e){return new r(e)}};function he(e,t,n,r,i=!1){let{getPromise:s}=l;return"function"==typeof s?s({nextTick:i?r:t=>e(t,0),setTimeout:e,onUnhandled:t,clearTimeout:n}):l.Promise}var Se,I=class{constructor(){}decode(e){return 0===e.byteLength?"":(e instanceof DataView?e=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength):ArrayBuffer.isView(e)&&(e=e.buffer),globalThis.TextCodecHelper.decode(e))}encodeInto(){throw TypeError("TextEncoder().encodeInto not supported")}get encoding(){return"utf-8"}get fatal(){return!1}get ignoreBOM(){return!0}},W=class{constructor(){}encode(e){return new Uint8Array(globalThis.TextCodecHelper.encode(e))}encodeInto(){throw TypeError("TextEncoder().encodeInto not supported")}get encoding(){return"utf-8"}},A=class r{constructor(){this._arrayBuffer=new ArrayBuffer(0),this._bodyUsed=!1}safeUseBody(e){if(this._bodyUsed)return;let t=e(this._arrayBuffer);return this._bodyUsed=!0,this._arrayBuffer=null,t}cloneArrayBuffer(e){return e.slice(0)}setBody(e){e instanceof r?e._bodyUsed||(this._arrayBuffer=this.cloneArrayBuffer(e._arrayBuffer)):e instanceof ArrayBuffer?this._arrayBuffer=this.cloneArrayBuffer(e):e instanceof DataView?this._arrayBuffer=this.cloneArrayBuffer(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)):ArrayBuffer.isView(e)?this._arrayBuffer=this.cloneArrayBuffer(e.buffer):e&&(this._arrayBuffer=new W().encode(e.toString()).buffer)}arrayBuffer(){return Promise.resolve(this.safeUseBody(e=>e))}text(){return Promise.resolve(this.safeUseBody(e=>new I().decode(e)))}json(){return Promise.resolve(this.safeUseBody(e=>JSON.parse(new I().decode(e))))}get bodyUsed(){return this._bodyUsed}},P=class r{constructor(e){if(this._headers_map=new Map,this[Se]="Headers",null===e||"number"==typeof e)throw TypeError("Headers init with null/number");if(e instanceof r)for(let[t,n]of e)this.append(t,n);else Array.isArray(e)?e.forEach(([e,t])=>{this.append(e,Array.isArray(t)?t.join(" "):t)}):e&&Object.getOwnPropertyNames(e).forEach(t=>{let n=e[t];this.append(t,Array.isArray(n)?n.join(" "):n)})}[(Se=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}*keys(){for(let[e,t]of this._headers_map)yield e}*values(){for(let[e,t]of this._headers_map)yield t}*entries(){for(let e of this._headers_map)yield e}has(e){return this._headers_map.has(e)}get(e){return this._headers_map.get(e)??null}set(e,t){this._headers_map.set(e,String(t))}append(e,t){let n=this.has(e)?`${this.get(e)}, ${t}`:t;this.set(e,n)}delete(e){this.has(e)&&this._headers_map.delete(e)}forEach(e,t){for(let[n,r]of this.entries())e.call(t,r,n,this)}},K=class r extends ${get aborted(){return this._aborted}get reason(){return this._reason}constructor(){super(),this._aborted=!1}get[Symbol.toStringTag](){return"[object AbortSignal]"}dispatchEvent(e){"abort"===e.type&&(this._aborted=!0,this._reason=e.reason,"function"==typeof this.onabort&&this.onabort.call(this,e)),super.emit(e.type,e)}addEventListener(e,t){super.addListener(e,t)}static __create(){return new r}};function se(e){return class e extends A{get url(){return this._url}get headers(){return this._headers}get method(){return this._method}get signal(){return this._signal}get lynxExtension(){return this._lynxExtension}constructor(t,n){if(super(),n=n||{},t instanceof e){if(t.bodyUsed)throw TypeError("Already read");this._url=t.url,n.headers||(this._headers=new P(t.headers)),this._method=t.method,this._signal=t.signal,this.setBody(t._arrayBuffer)}else this._url=String(t);if((n.headers||!this.headers)&&(this._headers=new P(n.headers)),this._method=n.method||this.method||"GET",this._method=this._method.toUpperCase(),("GET"===this.method||"HEAD"===this.method)&&n.body)throw TypeError("Body not allowed for GET or HEAD requests");"u">typeof n.signal&&(this._signal=n.signal),this._signal=this._signal||K.__create(),this._lynxExtension=n.lynxExtension||{},this._headers.get("Content-Type")||("string"==typeof n.body?this._headers.set("Content-Type","text/plain;charset=UTF-8"):globalThis.URLSearchParams&&n.body instanceof URLSearchParams?this._headers.set("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"):n.body instanceof ArrayBuffer||this._headers.set("Content-Type","text/plain;charset=UTF-8")),this.setBody(n.body)}clone(){let t=new e(this,{method:this.method});return t.setBody(this),t}}}function ae(e){return class e extends A{get url(){return this._url}get status(){return this._status}get statusText(){return this._statusText}get ok(){return this._ok}get headers(){return this._headers}get lynxExtension(){return this._lynxExtension}constructor(e,t){if(super(),t=t||{},this._status=void 0===t.status?200:t.status,this._status<200||this._status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this._ok=this._status>=200&&this._status<300,this._statusText=void 0===t.statusText?"":""+t.statusText,this._headers=new Headers(t.headers),this._url=t.url||"",this._lynxExtension=t.lynxExtension||{},this.setBody(e)}clone(){let t=new e(null,{status:this._status,statusText:this._statusText,headers:new Headers(this._headers),url:this._url});return t.setBody(this),t}}}var u=class _BaseApp{constructor(e,t){this.dataTypeSet=new Set(["string","number","array","object","boolean","null","function"]),this.removeInternalEventListenersCallbacks=[],this.setSourceMapRelease=e=>{this.Reporter.setSourceMapRelease(e)},this.getSourceMapRelease=e=>this.Reporter.getSourceMapRelease(e),this.setupGetTextInfoApi=()=>{this._apiList.getTextInfo=(e,t)=>this._textInfoManager.getTextInfo(e,t)},this.setupExposureApi=()=>{this._apiList.resumeExposure=()=>{this._exposureManager.resumeExposure()},this._apiList.stopExposure=e=>{this._exposureManager.stopExposure(e||{sendEvent:!0})},this._apiList.setObserverFrameRate=e=>{this._exposureManager.setObserverFrameRate(e||{forPageRect:20,forExposureCheck:20})}},this.requestAnimationFrame=e=>this._nativeApp.requestAnimationFrame(e),this.cancelAnimationFrame=e=>this._nativeApp.cancelAnimationFrame(e),this.__removeInternalEventListeners=()=>{this.removeInternalEventListenersCallbacks.forEach(e=>{e()})},this.initBase(e),t?t.transferSingletonData(this,this.__internal__callLynxSetModule.bind(this)):this.initExtra(e),this.setTimeout=this.nativeApp.setTimeout,this.setInterval=this.nativeApp.setInterval,this.clearInterval=this.nativeApp.clearInterval,this.clearTimeout=this.nativeApp.clearTimeout,this.addInternalEventListeners()}initExtra(e){let{lynx:t}=e;this.modules={},this._lazyCallableModules=new Map,this._nativeApp=f.create(this._nativeApp),this.sharedConsole=U(`runtimeId:${this.nativeAppId}`),this.dynamicComponentExports={},this.loadedDynamicComponentsSet=new Set,this._lazyCallableModules=new Map,this.Reporter=new b(()=>this,()=>this.nativeApp),this.GlobalEventEmitter=new $(this.__internal__callLynxSetModule.bind(this)),this._intersectionObserverManager=new J(this.NativeModules),this._exposureManager=new Y(this.NativeModules),this.setupExposureApi(),this._aopManager=new V,this.beforePublishEvent=this._aopManager._beforePublishEvent,this.performance=new _e(this.GlobalEventEmitter,this.nativeApp);let n=this.setupPromise(this.nativeApp.setTimeout,this.nativeApp.clearTimeout,t);this.lynx=this.createLynx(t,n),this.setupJSModule(),this.setupIntersectionApi(),this.setupFetchAPI(n)}initBase(e){let{nativeApp:t,params:n}=e;this.nativeAppId=t.id,this._params=n,this._nativeApp=t,this.NativeModules=t.nativeModuleProxy,this.LynxUIMethodModule=t.nativeModuleProxy.LynxUIMethodModule,this.LynxTestModule=t.nativeModuleProxy.LynxTestModule,this.LynxResourceModule=t.nativeModuleProxy.LynxResourceModule,this.LynxAccessibilityModule=t.nativeModuleProxy.LynxAccessibilityModule,this.LynxSetModule=t.nativeModuleProxy.LynxSetModule,this._apiList={},this._textInfoManager=new Q(this.NativeModules),this.setupGetTextInfoApi()}static{this.kDefaultSourceMapURL="default"}static{this.kGetSourceMapReleaseErrorName=pe}set __sourcemap__release__(e){let t=Error();t.name="LynxGetSourceMapReleaseError",t.message=e,t.stack=`at <anonymous> (${_BaseApp.kDefaultSourceMapURL}:1:1)`,this.setSourceMapRelease(t)}destroy(){this.__removeInternalEventListeners(),this._nativeApp=null,this._params=null,this._lazyCallableModules=null,this.GlobalEventEmitter=null}registerModule(e,t){this._lazyCallableModules[e]=t}getJSModule(e){return this._lazyCallableModules[e]}setupJSModule(){this.registerModule("GlobalEventEmitter",this.GlobalEventEmitter),this.registerModule("Reporter",this.Reporter)}setupFetchAPI(e){this._createResponseClass=ae,this._createRequestClass=se,this._RequestClass=l.Request??se(e),this._ResponseClass=l.Response??ae(e),l.Request||(l.Request=this._RequestClass),l.Response||(l.Response=this._ResponseClass)}__internal__callLynxSetModule(e,t){let n=this.LynxSetModule[e];n&&Function.prototype.apply.call(n,void 0,t)}get nativeApp(){return this._nativeApp}set nativeApp(e){this._nativeApp=e}get params(){return this._params}set apiList(e){this._apiList={...this._apiList,...e}}setupIntersectionApi(){let e=this;this._apiList.createIntersectionObserver=function(t,n){let{componentId:r=""}=t;return e._intersectionObserverManager.createIntersectionObserver(r,n)},this.lynx.createIntersectionObserver=this._apiList.createIntersectionObserver}onIntersectionObserverEvent(e,t,n){let r=this._intersectionObserverManager.getObserver(e);r&&r.invokeCallback(t,n)}reportError(e){return this.lynx.reportError(e)}handleError(e,t,n){h(e,this.nativeApp,{originError:t,getSourceMapRelease:this.getSourceMapRelease,errorLevel:n})}handleUserError(e,t,n,r){let{message:i,name:s,stack:o}=e||{};i||({message:i,name:s,stack:o}=Error(JSON.stringify(e)));let a=new E(r?`${r} ${s}: ${i}`:`${s}: ${i}`,o);a.cause=t,this.handleError(a,e,n)}handleInternalError(e,t){let{message:n,name:r,stack:i}=e||{};n||({message:n,name:r,stack:i}=Error(JSON.stringify(e)));let s=new g(`${r}: ${n}`,i);s.cause=t,this.handleError(s,e)}getBoolEnv(e){return this.nativeApp.getEnv(e)?.toLowerCase()==="true"}static{this._$factoryCache={}}_$executeInit(e,{path:t,entryName:n}){let r;if(e&&e.init)r=e.init.bind(e);else if(l.initBundle)r=l.initBundle.bind(l.initBundle),delete l.initBundle;else throw new E(`load failed. path:${t},entryName:${n}`);try{this.lynx.performance.profileStart("executeLoadedScript",{args:{path:t}});let e=r({tt:this});return _BaseApp._$factoryCache[t]=r,e}finally{this.lynx.performance.profileEnd()}}_$executeJSON(e,{path:t}){let n=JSON.parse(e),r=()=>n;return _BaseApp._$factoryCache[t]=r,n}requireModule(e,t,n){let r=_BaseApp._$factoryCache[e];if(r)return this._$executeInit({init:r},{path:e,entryName:t});if(e.split("?")[0].endsWith(".json")){let r=this.nativeApp.readScript(e,{dynamicComponentEntry:t??m,...n});return this._$executeJSON(r,{path:e,entryName:t})}let i=this.nativeApp.loadScript(e,t,n);return this._$executeInit(i,{path:e,entryName:t})}requireModuleAsync(e,t){let n=_BaseApp._$factoryCache[e];if(n)return void t(null,this._$executeInit({init:n},{path:e}));if(e.split("?")[0].endsWith(".json")){try{let n=this.nativeApp.readScript(e),r=this._$executeJSON(n,{path:e});t(null,r)}catch(e){t(e)}return}let r=Error();this.nativeApp.loadScriptAsync(e,(n,i)=>{if(n)return r.message=n,t(r);try{return t(null,this._$executeInit(i,{path:e}))}catch(e){return t(e)}})}require(path,params){let that=this;if("string"!=typeof path)throw Error("require args must be a string");let entryName=params&&params.dynamicComponentEntry?params.dynamicComponentEntry:m;that.modules[entryName]||(that.modules[entryName]={});let module=that.modules[entryName][path];if(!module){try{let tt=that,jsContent=that._nativeApp.readScript(path,{dynamicComponentEntry:entryName});eval(jsContent),module=that.modules[entryName][path]}catch(r){this.handleError(new E(`eval user: ${that._nativeApp.id} error: ${r.message}`,r.stack),r)}if(!that.modules[entryName][path])throw Error(`module ${path} in ${entryName} is not defined in card: ${that._nativeApp.id}`)}if(!module.hasRun){let{factory:r}=module,e={exports:{}},t;if(module.hasRun=!0,module.exports=e.exports,"function"==typeof r){let n=Ne.call(that,path),o=that;t=r(n,e,e.exports,that.Card.bind(o),that.setTimeout,that.setInterval,that.clearInterval,that.clearTimeout,that.NativeModules,that._apiList,that.sharedConsole,that.Component.bind(o),params?.ReactLynx,that.nativeAppId,that.Behavior.bind(o),me,that.lynx,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,that.lynx.fetch,void 0,void 0,void 0,void 0,void 0,void 0,that.requestAnimationFrame,that.cancelAnimationFrame),module.exports=e.exports||t}}return module.exports}define(e,t,n){n=n||m,this.modules[n]||(this.modules[n]={}),this.modules[n][e]={hasRun:!1,factory:t.bind(this)}}callFunction(e,t,n){try{let r=this.getJSModule(e);"function"==typeof r[t]&&r[t].apply(r,n)}catch(n){this.handleUserError(n,{by:`${e}.${t}`})}}onAppError(e,t){this.handleInternalError(t)}saveDynamicComponentExports(e,t){this.dynamicComponentExports[e]=t}getDynamicComponentExports(e){return this.dynamicComponentExports[e]}Component(...e){}Card(...e){}Behavior(...e){}wrapReport(e,t){let n=this;function r(e){return function(...r){try{return e.apply(this,r)}catch(e){n.handleUserError(e,{by:t})}}}return function(t,...n){return Function.prototype.apply.call(e,void 0,[r(t),...n])}}setupPromise(e,t,n){let r=he(e,(e,t)=>{try{t&&(t.stack||(t=Error(JSON.stringify(t))),t.name="unhandled rejection",this.handleUserError(t))}catch{}},t,n.queueMicrotask,this._params?.pageConfigSubset?.enableMicrotaskPromisePolyfill??!1);return this.resolvedPromise=r.resolve(),r}addInternalEventListener(e,t,n){this.contextProxyTypeToMethod[e]().addEventListener(t,n),this.removeInternalEventListenersCallbacks.push(()=>{this.contextProxyTypeToMethod[e]().removeEventListener(t,n)})}addInternalEventListeners(){this.contextProxyTypeToMethod||(this.contextProxyTypeToMethod={0:()=>this.lynx.getCoreContext(),1:()=>this.lynx.getDevtool(),2:()=>this.lynx.getJSContext(),3:()=>this.lynx.getUIContext()}),this.addInternalEventListener(0,"__OnNativeAppReady",()=>{this.onNativeAppReady()}),this.addInternalEventListener(0,"__NotifyGlobalPropsUpdated",e=>{this.updateGlobalProps(e.data)}),this.addInternalEventListener(0,"__OnLifecycleEvent",e=>{this.OnLifecycleEvent(e.data)}),this.addInternalEventListener(0,"__OnAppFirstScreen",()=>{this.onAppFirstScreen()}),this.addInternalEventListener(0,"__OnDynamicJSSourcePrepared",e=>{l.loadDynamicComponent(this,e.data)}),this.addInternalEventListener(0,"__OnAppEnterForeground",()=>{this.onAppEnterForeground()}),this.addInternalEventListener(0,"__OnAppEnterBackground",()=>{this.onAppEnterBackground()})}updateGlobalProps(e){}OnLifecycleEvent(e){}onNativeAppReady(){}onAppFirstScreen(){}onAppEnterBackground(){}onAppEnterForeground(){}};function Te(e){let t=e.match(/(.*)\/([^/]+)?$/);return t?.[1]?t[1]:"./"}function Ne(e){let t=this,n=Te(e);return function(e){let r=[],i=`${n}/${e}`.split("/"),s=i.length;if("string"!=typeof e)throw Error("require args must be a string");for(let n=0;n<s;++n){let o=i[n];if(""!==o&&"."!==o)if(".."===o){if(0===r.length)throw Error(`can't find module ${e} in app: ${t._nativeApp.id}`);r.pop()}else n+1<s&&".."===i[n+1]?n++:r.push(o)}let o=r.join("/");return o.endsWith(".js")||(o+=".js"),t.require(o)}}var z=class extends u{createLynx(e,t){let n=f.create(e);return new T(()=>this.nativeApp,()=>this,t,()=>n)}callBeforePublishEvent(e){if(0!==this._aopManager._beforePublishEvent.getEventsSize(e.type)){let t={...e};try{this._aopManager._beforePublishEvent.emit(t.type,[t])}catch(e){this.handleUserError(e,{by:"callBeforePublishEvent",type:t.type})}}}},le=class{transferSingletonData(e,t){e.nativeApp=this.nativeApp,e.sharedConsole=this.sharedConsole,e.dynamicComponentExports=this.dynamicComponentExports,e.loadedDynamicComponentsSet=this.loadedDynamicComponentsSet,e._intersectionObserverManager=this.intersectionObserverManager,e._exposureManager=this.exposureManager,e._textInfoManager=this.textInfoManager,this.globalEventEmitter.setCallLynxSetModule(t),e.GlobalEventEmitter=this.globalEventEmitter,e._aopManager=this.aopManager,e.performance=this.performance,e.modules=this.modules,e._lazyCallableModules=this.lazyCallableModules,e.lynx=this.lynx,this.lynx.rebind(()=>e),e._apiList=this.apiList,this.Reporter.rebind(()=>e),e.Reporter=this.Reporter,e.resolvedPromise=this.resolvedPromise}},L=class extends u{constructor(e,t){super(e,void 0),this.fillSingletonData();try{t.srcName&&(delete this.lynx.requireModule.cache[t.srcName],delete u._$factoryCache[t.srcName],this.lynx.requireModule(t.srcName,m),this.dataTypeSet.add("undefined"))}catch(e){this.handleUserError(e)}}createLynx(e,t){let n=f.create(e);return new T(()=>this.nativeApp,()=>this,t,()=>n)}fillSingletonData(){this.singletonData=new le,this.singletonData.nativeApp=this._nativeApp,this.singletonData.sharedConsole=this.sharedConsole,this.singletonData.dynamicComponentExports=this.dynamicComponentExports,this.singletonData.loadedDynamicComponentsSet=this.loadedDynamicComponentsSet,this.singletonData.intersectionObserverManager=this._intersectionObserverManager,this.singletonData.exposureManager=this._exposureManager,this.singletonData.textInfoManager=this._textInfoManager,this.singletonData.globalEventEmitter=this.GlobalEventEmitter,this.singletonData.aopManager=this._aopManager,this.singletonData.performance=this.performance,this.singletonData.modules=this.modules,this.singletonData.lazyCallableModules=this._lazyCallableModules,this.singletonData.lynx=this.lynx,this.singletonData.apiList=this._apiList,this.singletonData.Reporter=this.Reporter,this.singletonData.resolvedPromise=this.resolvedPromise}};function Ae(e,t,n){let{id:r}=e,{cardType:i}=t,s=!0,o;try{if(o="standalone"==i?new L({nativeApp:e,params:t,lynx:n},t):new z({nativeApp:e,params:t,lynx:n}),l.currentAppId=r,l.multiApps[r]=o,"standalone"===i)return e.setCard(o),!0;t.bundleSupportLoadScript,s=!0;try{delete o.lynx.requireModule.cache[B],delete u._$factoryCache[B],o.lynx.requireModule(B,m),o.lynx._switches.allowUndefinedInNativeDataTypeSet&&o.dataTypeSet.add("undefined")}catch(e){s=!1,o.handleUserError(e,void 0,void 0,"loadCard failed")}e.setCard(o)}catch(t){Ce(e,t),s=!1}return s}function be(e){l.multiApps[e].destroy(),delete l.multiApps[e]}function Oe(e){l.multiApps[e].callDestroyLifetimeFun()}function Ce(e,t,n){let{message:r,name:i,stack:s}=t||{};r||({message:r,name:i,stack:s}=Error(JSON.stringify(t)));let o=new g(`loadCard failed ${i}: ${r}`,s);o.cause=n,h(o,e,{originError:t,getSourceMapRelease:t=>{if(!e.__GetSourceMapRelease(t))return e.__GetSourceMapRelease(u.kDefaultSourceMapURL)}})}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}(()=>{__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.rv=()=>"1.3.5"})(),(()=>{__webpack_require__.ruid="bundler=rspack@1.3.5"})();var __webpack_exports__={};(()=>{var e,t,n,r,i={};__webpack_require__.r(i),__webpack_require__.d(i,{__AppendElement:()=>ef,__ElementIsEqual:()=>em,__FirstElement:()=>eg,__GetChildren:()=>ey,__GetParent:()=>e_,__InsertElementBefore:()=>ev,__LastElement:()=>eb,__NextElement:()=>ex,__RemoveElement:()=>eE,__ReplaceElement:()=>eS,__ReplaceElements:()=>eA});class s{port;name;incId=0;#e={};#t=new TextEncoder;#n=new TextDecoder;#r=new Map;constructor(e,t){this.port=e,this.name=t,e.onmessage=e=>this.#i(e.data)}get nextRetId(){return`ret_${this.name}_${this.incId++}`}static createRetEndpoint(e){return{name:e,hasReturn:!1,isSync:!1}}#i=async e=>{console.warn(`[rpc] on ${this.name} received ${e.name}`,e);let t=this.#r.get(e.name);if(t){let n=e.sync?new Int32Array(e.lock):void 0,r=!e.sync&&e.retId?s.createRetEndpoint(e.retId):void 0;try{let i=await t(...e.data),s,o=[];if(e.sync?s=i:e.hasTransfer?{data:s,transfer:o}=i||{}:s=i,e.sync){if(e.buf){let t=JSON.stringify(s),n=new Uint32Array(e.buf,0,1),r=new Uint8Array(e.buf,4),i=new Uint8Array(e.buf.byteLength-4),{written:o}=this.#t.encodeInto(t,i);n[0]=o,r.set(i,0)}Atomics.store(n,0,1),Atomics.notify(n,0)}else e.retId&&this.invoke(r,[s,!1],o||[])}catch(t){console.error(t),e.sync?(Atomics.store(n,0,2),Atomics.notify(n,0),n[1]=2):this.invoke(r,[void 0,!0])}}else{let t=this.#e[e.name];t?t.push(e):this.#e[e.name]=[e]}};createCall(e){return(...t)=>this.invoke(e,t)}registerHandler(e,t){this.#r.set(e.name,t);let n=this.#e[e.name];if(n?.length)for(let t of(this.#e[e.name]=void 0,n))this.#i(t)}registerHandlerRef(e,t,n){this.registerHandler(e,(...e)=>t[n]?.call(t,...e))}registerHandlerLazy(e,t,n){if(t[n])this.registerHandlerRef(e,t,n);else{let r,i=this;Object.defineProperty(t,n,{get:()=>r,set(s){r=s,s&&i.registerHandlerRef(e,t,n)}})}}removeHandler(e){this.#r.delete(e.name)}invoke(e,t,n=[]){if(e.isSync){let r=e.bufferSize?new SharedArrayBuffer(e.bufferSize+4):void 0,i=new SharedArrayBuffer(4),s=new Int32Array(i);s[0]=0;let o={name:e.name,data:t,sync:!0,lock:i,buf:r};if(this.port.postMessage(o,{transfer:n}),Atomics.wait(s,0,0),2===s[0])throw null;if(!r)return;{let e=new Uint32Array(r,0,4)[0],t=new Uint8Array(r,4,e),n=new Uint8Array(e);return n.set(t,0),n?JSON.parse(this.#n.decode(n)):void 0}}if(e.hasReturn){let{promise:r,resolve:i,reject:o}=Promise.withResolvers(),a=s.createRetEndpoint(this.nextRetId);this.registerHandler(a,(e,t)=>{t&&o(),i(e)});let l={name:e.name,data:t,sync:!1,retId:a?.name,hasTransfer:e.hasReturnTransfer};return this.port.postMessage(l,{transfer:n}),r}{let r={name:e.name,data:t,sync:!1};this.port.postMessage(r,{transfer:n})}}createCallbackify(e,t){let n=this.createCall(e);return(...e)=>{let r=e.at(t);e.splice(t,1),n(...e).then(r)}}}let o="lynx-unique-id",a="lynx-css-id",l="lynx-component-id",u="lynx-tag",c="lynx-default-display-linear",h="__lynx_timing_flag",d=["registerDataProcessor","registerWorkletInternal","lynxWorkletImpl"],p={click:"tap",lynxscroll:"scroll",lynxscrollend:"scrollend",overlaytouch:"touch",lynxfocus:"focus",lynxblur:"blur"},f={"X-INPUT":{blur:"lynxblur",focus:"lynxfocus"},"X-TEXTAREA":{blur:"lynxblur",focus:"lynxfocus"}},m={tap:"click",scroll:"lynxscroll",scrollend:"lynxscrollend",touch:"overlaytouch"};function g(e,t,n=!0,r=!1,i){return{name:e,isSync:t,hasReturn:n,hasReturnTransfer:r,bufferSize:i}}let y=g("__postExposure",!1,!1),_=g("publicComponentEvent",!1,!1),v=g("publishEvent",!1,!1),b=g("postOffscreenEventEndpoint",!1,!1),x=g("switchExposureServiceEndpoint",!1,!1),E=g("mainThreadStart",!1,!1),S=g("updateData",!1,!0),A=g("sendGlobalEventEndpoint",!1,!1),w=g("dispose",!1,!0),C=g("start",!1,!0),M=g("reportError",!1,!1),T=g("flushElementTree",!1,!0),I=g("callLepusMethod",!1,!0),k=g("__invokeUIMethod",!1,!0),R=g("__setNativeProps",!1,!0),L=g("nativeModulesCall",!1,!0),O=g("napiModulesCall",!1,!0,!0),P=g("getCustomSections",!1,!0),D=g("markTiming",!1,!1),N=g("postTimingFlags",!1,!1),j=g("__triggerComponentEvent",!1,!1),U=g("__selectComponent",!1,!0),q=g("dispatchLynxViewEvent",!1,!1),F=g("dispatchNapiModule",!1,!1),B=g("dispatchCoreContextEventEndpoint",!1,!1);!function(e){e[e.ID_SELECTOR=0]="ID_SELECTOR",e[e.REF_ID=1]="REF_ID",e[e.UNIQUE_ID=2]="UNIQUE_ID"}(e||(e={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.UNKNOWN=1]="UNKNOWN",e[e.NODE_NOT_FOUND=2]="NODE_NOT_FOUND",e[e.METHOD_NOT_FOUND=3]="METHOD_NOT_FOUND",e[e.PARAM_INVALID=4]="PARAM_INVALID",e[e.SELECTOR_NOT_SUPPORTED=5]="SELECTOR_NOT_SUPPORTED",e[e.NO_UI_FOR_NODE=6]="NO_UI_FOR_NODE"}(t||(t={})),function(e){e[e.UPDATE=0]="UPDATE",e[e.RESET=1]="RESET"}(n||(n={})),function(e){e[e.Unknown=0]="Unknown",e[e.UpdateExplictByUser=1]="UpdateExplictByUser",e[e.UpdateByKernelFromCtor=2]="UpdateByKernelFromCtor",e[e.UpdateByKernelFromRender=4]="UpdateByKernelFromRender",e[e.UpdateByKernelFromHydrate=8]="UpdateByKernelFromHydrate",e[e.UpdateByKernelFromGetDerived=16]="UpdateByKernelFromGetDerived",e[e.UpdateByKernelFromConflict=32]="UpdateByKernelFromConflict",e[e.UpdateByKernelFromHMR=64]="UpdateByKernelFromHMR"}(r||(r={}));let $={CanceledBeforeDispatch:3};function H(e,t){let n=e.createCall(P);return(e,r)=>{t[e]&&r(t[e]),n(e).then(r)}}class G extends EventTarget{_config;constructor(e){super(),this._config=e}postMessage(...e){console.error("[lynx-web] postMessage not implemented, args:",...e)}dispatchEvent(e){return super.dispatchEvent(e),$.CanceledBeforeDispatch}__start(){let{mainThreadRpc:e,dispatchEventEndpoint:t}=this._config;e.registerHandler(t,(e,t)=>{this.dispatchEvent(new MessageEvent(e,{data:t??{}}))})}}function z(e,t,n){let r=new G({mainThreadRpc:n,dispatchEventEndpoint:B});return{__globalProps:e.globalProps,getJSModule(e){},getNativeApp:()=>t,getCoreContext:()=>r,getCustomSectionSync:t=>e.customSections[t],getCustomSection:H(n,e.customSections)}}function J(e){return(n,r,i,s,o,a,l)=>{e.invoke(k,[n,r,i,s,o,l]).then(a).catch(e=>{console.error("[lynx-web] invokeUIMethod failed",e),a({code:t.UNKNOWN,data:""})})}}function W(e,t){e.registerHandlerLazy(_,t,"publicComponentEvent")}function Q(e,t){e.registerHandler(y,({exposures:e,disExposures:n})=>{e.length>0&&t.GlobalEventEmitter.emit("exposure",[e.map(e=>Object.assign(e,e.detail,{dataset:e.target.dataset}))]),n.length>0&&t.GlobalEventEmitter.emit("disexposure",[n.map(e=>Object.assign(e,e.detail,{dataset:e.target.dataset}))])})}async function K(e,t,n){let r=t.createCall(x),i=e.createCall(L),s={resumeExposure(){r(!0,!0)},stopExposure(e){r(!1,e.sendEvent??!0)}},o={call(e,t,n){i(e,t,"bridge").then(n)}},a={},l={};return await Promise.all(Object.entries(n).map(([e,t])=>import(t).then(t=>l[e]=t?.default?.(a,(t,n)=>i(t,n,e))))),Object.assign(a,{bridge:o,LynxExposureModule:s,...l})}function V(e,t){e.registerHandlerLazy(S,t,"updateCardData")}function X(e,t){e.registerHandlerLazy(v,t,"publishEvent")}function Y(e){let t=0;return{generatePipelineOptions:()=>({pipelineID:"_pipeline_"+t++,needTimestamps:!1}),onPipelineStart:function(){},markPipelineTiming:function(t,n){e.markTimingInternal(n,t)},bindPipelineIdWithTimingFlag:function(t,n){e.pipelineIdToTimingFlags.has(t)||e.pipelineIdToTimingFlags.set(t,[]),e.pipelineIdToTimingFlags.get(t).push(n)},profileStart:()=>{console.error("NYI: profileStart. This is an issue of lynx-core.")},profileEnd:()=>{console.error("NYI: profileEnd. This is an issue of lynx-core.")}}}function Z(e,t){e.registerHandler(A,(...e)=>{t.GlobalEventEmitter.emit(...e)})}function ee(){let e=new FinalizationRegistry(e=>e());return t=>{let n={};return e.register(n,t),n}}let et=0,en={};async function er(e){let{mainThreadRpc:t,uiThreadRpc:n,template:r,nativeModulesMap:i,timingSystem:s}=e,o=Y(s),a=t.createCallbackify(I,2),l=n.createCall(R),u=n.createCall(j),c=n.createCallbackify(U,3);return{id:(et++).toString(),...o,setTimeout:setTimeout,setInterval:setInterval,clearTimeout:clearTimeout,clearInterval:clearInterval,nativeModuleProxy:await K(n,t,i),loadScriptAsync:function(e,t){let n=r.manifest[`/${e}`];n&&(e=n),import(e).catch(t).then(async()=>{t(null,{init:e=>{e.tt.lynxCoreInject=e,e.tt.globalThis??=e;let t=globalThis.module.exports;return t?.(e.tt)}})})},loadScript:e=>{let t=r.manifest[`/${e}`];t&&(e=t),importScripts(e);let n=globalThis.module.exports;return{init:e=>(e.tt.lynxCoreInject=e,e.tt.globalThis??=e,n?.(e.tt))}},requestAnimationFrame:e=>requestAnimationFrame(e),cancelAnimationFrame:e=>cancelAnimationFrame(e),callLepusMethod:a,setNativeProps:l,invokeUIMethod:J(n),setCard(e){W(t,e),X(t,e),Q(t,e),V(n,e),Z(n,e),s.registerGlobalEmitter(e.GlobalEventEmitter),e.lynx.getCoreContext().__start()},triggerComponentEvent:u,selectComponent:c,createJSObjectDestructionObserver:ee(),setSharedData(e,t){en[e]=t},getSharedData:e=>en[e]}}function ei(e,t,n,r){e.registerHandler(w,()=>{let e=t.id;r(e),n(e)})}let es=async(e,t)=>{let n=e.createCall(O),r={};return await Promise.all(Object.entries(t).map(([t,i])=>import(i).then(i=>r[t]=i?.default?.(r,(e,r)=>n(e,r,t),t=>{e.registerHandler(F,e=>t(e))})))),{load:e=>r[e]}},eo={onSetup:"lynx.performance.timing.onSetup",onUpdate:"lynx.performance.timing.onUpdate"};function ea(e,t){let n=!0,r={},i=new Map,s=new Map,o=t.createCall(q),a=[];function l(e,t,n){if(n||(n=performance.now()+performance.timeOrigin),!t){r[e]=n;return}i.has(t)||i.set(t,{}),i.get(t)[e]=n}let u=t=>{e.registerHandler(N,(e,l)=>{if(l?e=e.concat(a):a=a.concat(e),n){let e={extra_timing:{},setup_timing:r,update_timings:{},metrics:{},has_reload:!1,thread_strategy:0,url:""};t.emit(eo.onSetup,[e]),o("timing",r)}else{let n=(l?i.get(l):void 0)??{},r={extra_timing:{},setup_timing:{},update_timings:Object.fromEntries([...e,...s.get(l)??[]].map(e=>[e,n])),metrics:{},has_reload:!1,thread_strategy:0,url:""};t.emit(eo.onUpdate,[r]),o("timing",n)}l&&(s.delete(l),i.delete(l)),n&&(n=!1)})};return e.registerHandler(D,l),t.registerHandler(D,l),{markTimingInternal:l,registerGlobalEmitter:u,pipelineIdToTimingFlags:s}}let el=Promise.resolve().then(__webpack_require__.bind(__webpack_require__,970));function eu(e,t){let n=new s(e,"bg-to-ui"),r=new s(t,"bg-to-main"),i=ea(r,n);i.markTimingInternal("load_core_start"),r.registerHandler(C,async e=>{i.markTimingInternal("load_core_end");let t=await er({...e,uiThreadRpc:n,mainThreadRpc:r,timingSystem:i});globalThis["napiLoaderOnRT"+t.id]=await es(n,e.napiModulesMap);let s=z(e,t,r);el.then(({loadCard:r,destroyCard:i,callDestroyLifetimeFun:o})=>{r(t,e,s),ei(n,t,i,o)})})}function ec(e,t){return{getJSContext:()=>new EventTarget,requestAnimationFrame:e=>requestAnimationFrame(e),cancelAnimationFrame:e=>cancelAnimationFrame(e),__globalProps:e.globalProps,requireModule(n){if(self.WorkerGlobalScope){let r=e.lepusCode[`${n}`];r&&(n=r),importScripts(n);let i=globalThis.module.exports;return i?.(t)}throw Error("importing scripts synchronously is only available for the multi-thread running mode")},requireModuleAsync(n,r){let i=e.lepusCode[`${n}`];i&&(n=i),import(n).catch(r).then(()=>{let e=globalThis.module.exports;r(null,e?.(t))})},getCustomSectionSync:t=>e.customSections[t]?.content,markPipelineTiming:e.callbacks.markTiming}}function eh(e){let t=1;function n(n,r,i,s,l){let c=e.__SetCSSId,h=e.config.tagMap[n]??n,d=e.config.docu.createElement(h);d.setAttribute(u,n);let p=t++,f={uniqueId:p,componentConfig:{},lynxDataset:{},eventHandlerMap:{},parentComponentUniqueId:r};if(e[tZ].set(d,f),e[t2][p]=new WeakRef(d),d.setAttribute(o,p.toString()),void 0!==i)c([d],i);else if(r>=0){let t=e[t0](r),n=t?.getAttribute(a);n&&"0"!==n&&c([d],n)}return void 0!==s&&e.__UpdateComponentID(d,s),d}return{__CreateView:function(e){return n("view",e)},__CreateText:function(e){return n("text",e)},__CreateComponent:function(e,t,r,i,s,o,a,l){let u=n("view",e,r,t,a);return u.setAttribute("name",s),u},__CreatePage:function(t,r,i){let s=n("page",0,r,t,i);s.setAttribute("part","page");let o=e[tZ].get(s);return o.parentComponentUniqueId=o.uniqueId,!1===e.config.pageConfig.defaultDisplayLinear&&s.setAttribute(c,"false"),!0===e.config.pageConfig.defaultOverflowVisible&&s.setAttribute("lynx-default-overflow-visible","true"),e._page=s,s},__CreateRawText:function(e){let t=n("raw-text",-1);return t.setAttribute("text",e),t},__CreateImage:function(e){return n("image",e)},__CreateScrollView:function(e){return n("scroll-view",e)},__CreateElement:function(e,t,r){return n(e,t,void 0,void 0,r)},__CreateWrapperElement:function(e){return n("lynx-wrapper",e)},__CreateList:function(t,r,i,s){let o=n("list",t,void 0,void 0,s),a=e[tZ].get(o);return a.componentAtIndex=r,a.enqueueComponent=i,o},__SwapElement:function(t,n){let r=e.config.docu.createElement("div");t.replaceWith(r),n.replaceWith(t),r.replaceWith(n)}}}function ed(e,t,n){null!=n&&("object"==typeof n?e.setAttribute("data-"+t,JSON.stringify(n)):e.setAttribute("data-"+t,n.toString()))}function ep(e){function t(e){return e.getAttribute(u)}function n(n,r,i){if(null==i)n.removeAttribute(r);else if("list"===t(n)&&"update-list-info"===r){let{insertAction:t,removeAction:r}=i;queueMicrotask(()=>{let i=e[tZ].get(n),s=i.componentAtIndex,o=i.enqueueComponent;for(let e of t)s?.(n,i.uniqueId,e.position,0,!1);for(let e of r)o?.(n,i.uniqueId,e.position)})}else n.setAttribute(r,i.toString());r===h&&i&&e._timingFlags.push(i)}return{__AddConfig:function(t,n,r){e[tZ].get(t).componentConfig[n]=r},__AddDataset:function(t,n,r){e[tZ].get(t).lynxDataset[n]=r,ed(t,n,r)},__GetAttributes:function(e){return Object.fromEntries(e.getAttributeNames().map(t=>[t,e.getAttribute(t)]))},__GetComponentID:function(e){return e.getAttribute(l)},__GetDataByKey:function(t,n){return e[tZ].get(t).lynxDataset[n]},__GetDataset:function(t){return e[tZ].get(t).lynxDataset},__GetElementConfig:function(t){return e[tZ].get(t).componentConfig},__GetElementUniqueID:function(t){return e[tZ].get(t)?.uniqueId??-1},__GetID:function(e){return e.id},__GetTag:t,__SetConfig:function(t,n){e[tZ].get(t).componentConfig=n},__SetDataset:function(t,n){for(let[r,i]of(e[tZ].get(t).lynxDataset=n,Object.entries(n)))ed(t,r,i)},__SetID:function(e,t){e.id=t},__UpdateComponentID:function(e,t){e.setAttribute(l,t)},__UpdateListCallbacks:function(t,n,r){e[tZ].get(t).componentAtIndex=n,e[tZ].get(t).enqueueComponent=r},__GetConfig:function(t){return e[tZ].get(t).componentConfig},__SetAttribute:n}}function ef(e,t){e.append(t)}function em(e,t){return e===t}function eg(e){return e.firstElementChild||void 0}function ey(e){return e.children}function e_(e){return e.parentElement||void 0}function ev(e,t,n){return e.insertBefore(t,n)}function eb(e){return e.lastElementChild||void 0}function ex(e){return e.nextElementSibling||void 0}function eE(e,t){return e.removeChild(t),t}function eS(e,t){t.replaceWith(e)}function eA(e,t,n){if(t=Array.isArray(t)?t:[t],!n||Array.isArray(n)&&n?.length===0)e.append(...t);else{n=Array.isArray(n)?n:[n];for(let t=1;t<n.length;t++)eE(e,n[t]);n[0].replaceWith(...t)}}function ew(e,t,n){let r=t.target,i=t.currentTarget,s=t.type,o={};s.match(/^transition/)?Object.assign(o,{animation_type:"keyframe-animation",animation_name:t.propertyName,new_animator:!0}):s.match(/animation/)&&Object.assign(o,{animation_type:"keyframe-animation",animation_name:t.animationName,new_animator:!0});let a=e[tZ].get(r),l=e[tZ].get(i);return{type:n,timestamp:t.timeStamp,target:{id:r.id,dataset:a.lynxDataset,uniqueId:a.uniqueId},currentTarget:l?{id:i.id,dataset:l.lynxDataset,uniqueId:l.uniqueId}:null,detail:t.detail??{},params:o}}function eC(e){let t=t=>{if(!t.currentTarget)return;let n=t.currentTarget,r=t.eventPhase===Event.CAPTURING_PHASE,i=p[t.type]??t.type,s=e[tZ].get(n),o=r?s.eventHandlerMap[i]?.capture?.handler:s.eventHandlerMap[i]?.bind?.handler;if("string"==typeof o){let n=ew(e,t,i),r=s.parentComponentUniqueId,a=e[t0](Number(r)),c=a?.getAttribute(u)!=="page"?a?.getAttribute(l)??void 0:void 0;return c?e.config.callbacks.publicComponentEvent(c,o,n):e.config.callbacks.publishEvent(o,n),!0}return o&&e.runWorklet?.(o.value,[]),!1},n=e=>{t(e)&&e.stopPropagation()};function r(r,i,s,o){s=s.toLowerCase();let a="catchEvent"===i||"capture-catch"===i,l=i.startsWith("capture"),u=e[tZ].get(r),c=l?u.eventHandlerMap[s]?.capture:u.eventHandlerMap[s]?.bind,h=a?n:t;if(c)o||r.removeEventListener(s,h,{capture:l});else if(o){let e=f[r.tagName]?.[s]??m[s]??s;r.addEventListener(e,h,{capture:l})}if(o){let e={type:i,handler:o};u.eventHandlerMap[s]||(u.eventHandlerMap[s]={capture:void 0,bind:void 0}),l?u.eventHandlerMap[s].capture=e:u.eventHandlerMap[s].bind=e}}function i(e,t){for(let{type:n,name:i,function:s}of t)r(e,n,i,s)}return{__AddEvent:r,__GetEvent:function(t,n,r){let i=e[tZ].get(t);n=n.toLowerCase();let s=r.startsWith("capture")?i.eventHandlerMap[n]?.capture:i.eventHandlerMap[n]?.bind;return s?.handler},__GetEvents:function(t){let n=e[tZ].get(t).eventHandlerMap,r=[];for(let[e,t]of Object.entries(n))for(let n of[t.bind,t.capture])if(n){let{type:t,handler:i}=n;i&&r.push({type:t,name:e,function:i})}return r},__SetEvents:i}}globalThis.nativeConsole=console;var eM=/[A-Z]/g,eT=/^ms-/,eI={};function ek(e){return"-"+e.toLowerCase()}let eR=function(e){if(eI.hasOwnProperty(e))return eI[e];var t=e.replace(eM,ek);return eI[e]=eT.test(t)?"-"+t:t},eL={};function eO(e){if(eL[e])return eL[e];let t=(e+"").replace(/-\D/g,function(e){return e.charAt(1).toUpperCase()});return eL[e]=t,t}let eP=1,eD={},eN={},ej=(e,t)=>{let n=eP++;eD[n]={name:eO(e),dashName:e,defaultValue:t},eN[e]=n};function eU(e){return eD[e]}function eq(e,t,n){let r=e.split(" ").filter(e=>e),i=[],s=t[n??"0"];if(s)for(let e of r){let t=s[e];t&&i.push(...t)}else throw Error(`[lynx-web] cannot find styleinfo for cssid ${n}`);return i.map(([e,t])=>`${e}:${t};`).join("")}ej("top","auto"),ej("left","auto"),ej("right","auto"),ej("bottom","auto"),ej("position","relative"),ej("box-sizing","auto"),ej("background-color","transparent"),ej("border-left-color","black"),ej("border-right-color","black"),ej("border-top-color","black"),ej("border-bottom-color","black"),ej("border-radius","0px"),ej("border-top-left-radius","0px"),ej("border-bottom-left-radius","0px"),ej("border-top-right-radius","0px"),ej("border-bottom-right-radius","0px"),ej("border-width","0px"),ej("border-left-width","0px"),ej("border-right-width","0px"),ej("border-top-width","0px"),ej("border-bottom-width","0px"),ej("color","black"),ej("opacity","1"),ej("display","auto"),ej("overflow","hidden"),ej("height","auto"),ej("width","auto"),ej("max-width","auto"),ej("min-width","auto"),ej("max-height","auto"),ej("min-height","auto"),ej("padding","0px"),ej("padding-left","0px"),ej("padding-right","0px"),ej("padding-top","0px"),ej("padding-bottom","0px"),ej("margin","0px"),ej("margin-left","0px"),ej("margin-right","0px"),ej("margin-top","0px"),ej("margin-bottom","0px"),ej("white-space","normal"),ej("letter-spacing","0px"),ej("text-align","start"),ej("line-height",""),ej("text-overflow","clip"),ej("font-size","medium"),ej("font-weight","normal"),ej("flex","0"),ej("flex-grow","0"),ej("flex-shrink","1"),ej("flex-basis","auto"),ej("flex-direction","row"),ej("flex-wrap","nowrap"),ej("align-items","stretch"),ej("align-self","stretch"),ej("align-content","stretch"),ej("justify-content","stretch"),ej("background","transparent, transparent"),ej("border-color","black"),ej("font-family",""),ej("font-style","normal"),ej("transform",""),ej("animation",""),ej("animation-name",""),ej("animation-duration",""),ej("animation-timing-function","linear"),ej("animation-delay","0s"),ej("animation-iteration-count","1"),ej("animation-direction","normal"),ej("animation-fill-mode","none"),ej("animation-play-state","running"),ej("line-spacing","0px"),ej("border-style","solid"),ej("order","0"),ej("box-shadow",""),ej("transform-origin",""),ej("linear-orientation","vertical"),ej("linear-weight-sum","0"),ej("linear-weight","0"),ej("linear-gravity","none"),ej("linear-layout-gravity","none"),ej("layout-animation-create-duration","0s"),ej("layout-animation-create-timing-function","linear"),ej("layout-animation-create-delay","0s"),ej("layout-animation-create-property","opacity"),ej("layout-animation-delete-duration","0s"),ej("layout-animation-delete-timing-function","linear"),ej("layout-animation-delete-delay","0s"),ej("layout-animation-delete-property","opacity"),ej("layout-animation-update-duration","0s"),ej("layout-animation-update-timing-function","linear"),ej("layout-animation-update-delay","0s"),ej("adapt-font-size","0"),ej("aspect-ratio",""),ej("text-decoration",""),ej("text-shadow",""),ej("background-image",""),ej("background-position",""),ej("background-origin","border-box"),ej("background-repeat","no-repeat"),ej("background-size",""),ej("border",""),ej("visibility","visible"),ej("border-right",""),ej("border-left",""),ej("border-top",""),ej("border-bottom",""),ej("transition",""),ej("transition-property",""),ej("transition-duration",""),ej("transition-delay",""),ej("transition-timing-function",""),ej("content",""),ej("border-left-style",""),ej("border-right-style",""),ej("border-top-style",""),ej("border-bottom-style",""),ej("implicit-animation","true"),ej("overflow-x","hidden"),ej("overflow-y","hidden"),ej("word-break","normal"),ej("background-clip","border-box"),ej("outline","medium none black"),ej("outline-color","black"),ej("outline-style","black"),ej("outline-width","medium"),ej("vertical-align","default"),ej("caret-color","auto"),ej("direction","normal"),ej("relative-id","-1"),ej("relative-align-top","-1"),ej("relative-align-right","-1"),ej("relative-align-bottom","-1"),ej("relative-align-left","-1"),ej("relative-top-of","-1"),ej("relative-right-of","-1"),ej("relative-bottom-of","-1"),ej("relative-left-of","-1"),ej("relative-layout-once","true"),ej("relative-center","none"),ej("enter-transition-name",""),ej("exit-transition-name",""),ej("pause-transition-name",""),ej("resume-transition-name",""),ej("flex-flow","row nowrap"),ej("z-index","0"),ej("text-decoration-color","black"),ej("linear-cross-gravity","none"),ej("margin-inline-start","0px"),ej("margin-inline-end","0px"),ej("padding-inline-start","0px"),ej("padding-inline-end","0px"),ej("border-inline-start-color","black"),ej("border-inline-end-color","black"),ej("border-inline-start-width","0px"),ej("border-inline-end-width","0px"),ej("border-inline-start-style",""),ej("border-inline-end-style",""),ej("border-start-start-radius","0px"),ej("border-end-start-radius","0px"),ej("border-start-end-radius","0px"),ej("border-end-end-radius","0px"),ej("relative-align-inline-start","-1"),ej("relative-align-inline-end","-1"),ej("relative-inline-start-of","-1"),ej("relative-inline-end-of","-1"),ej("inset-inline-start","0px"),ej("inset-inline-end","0px"),ej("mask-image",""),ej("grid-template-columns",""),ej("grid-template-rows",""),ej("grid-auto-columns",""),ej("grid-auto-rows",""),ej("grid-column-span",""),ej("grid-row-span",""),ej("grid-column-start",""),ej("grid-column-end",""),ej("grid-row-start",""),ej("grid-row-end",""),ej("grid-column-gap",""),ej("grid-row-gap",""),ej("justify-items","stretch"),ej("justify-self","auto"),ej("grid-auto-flow","row"),ej("filter",""),ej("list-main-axis-gap","0px"),ej("list-cross-axis-gap","0px"),ej("linear-direction","column"),ej("perspective","none"),ej("cursor","default"),ej("text-indent","0px"),ej("clip-path",""),ej("text-stroke","0px transparent"),ej("text-stroke-width","0px"),ej("text-stroke-color","transparent"),ej("-x-auto-font-size","false"),ej("-x-auto-font-size-preset-sizes","");let eF=0,eB=1,e$=2,eH=3,eG=4,ez=5,eJ=6,eW=7,eQ=8,eK=9,eV=10,eX=11,eY=12,eZ=13,e0=14,e1=15,e2=16,e4=17,e3=18,e5=19,e9=20,e8=21,e6=22,e7=23,te=24,tt=25,tn=0;function tr(e){return e>=48&&e<=57}function ti(e){return tr(e)||e>=65&&e<=70||e>=97&&e<=102}function ts(e){return e>=65&&e<=90}function to(e){return e>=97&&e<=122}function ta(e){return ts(e)||to(e)}function tl(e){return e>=128}function tu(e){return ta(e)||tl(e)||95===e}function tc(e){return tu(e)||tr(e)||45===e}function th(e){return e>=0&&e<=8||11===e||e>=14&&e<=31||127===e}function td(e){return 10===e||13===e||12===e}function tp(e){return td(e)||32===e||9===e}function tf(e,t){return!(92!==e||td(t)||t===tn)}function tm(e,t,n){return 45===e?tu(t)||45===t||tf(t,n):!!tu(e)||92===e&&tf(e,t)}function tg(e,t,n){return 43===e||45===e?tr(t)?2:46===t&&tr(n)?3:0:46===e?2*!!tr(t):+!!tr(e)}function ty(e){return+(65279===e||65534===e)}let t_=Array(128),tv=128,tb=130,tx=131,tE=132,tS=133;for(let e=0;e<t_.length;e++)t_[e]=tp(e)&&tb||tr(e)&&tx||tu(e)&&tE||th(e)&&tS||e||tv;function tA(e){return e<128?t_[e]:tE}function tw(e,t){return t<e.length?e.charCodeAt(t):0}function tC(e,t,n){return 13===n&&10===tw(e,t+1)?2:1}function tM(e,t,n){let r=e.charCodeAt(t);return ts(r)&&(r|=32),r===n}function tT(e,t,n,r){if(n-t!==r.length||t<0||n>e.length)return!1;for(let i=t;i<n;i++){let n=r.charCodeAt(i-t),s=e.charCodeAt(i);if(ts(s)&&(s|=32),s!==n)return!1}return!0}function tI(e,t){for(;t<e.length&&tp(e.charCodeAt(t));t++);return t}function tk(e,t){for(;t<e.length&&tr(e.charCodeAt(t));t++);return t}function tR(e,t){if(ti(tw(e,(t+=2)-1))){for(let n=Math.min(e.length,t+5);t<n&&ti(tw(e,t));t++);let n=tw(e,t);tp(n)&&(t+=tC(e,t,n))}return t}function tL(e,t){for(;t<e.length;t++){let n=e.charCodeAt(t);if(!tc(n)){if(tf(n,tw(e,t+1))){t=tR(e,t)-1;continue}break}}return t}function tO(e,t){let n=e.charCodeAt(t);if((43===n||45===n)&&(n=e.charCodeAt(t+=1)),tr(n)&&(t=tk(e,t+1),n=e.charCodeAt(t)),46===n&&tr(e.charCodeAt(t+1))&&(t+=2,t=tk(e,t)),tM(e,t,101)){let r=0;(45===(n=e.charCodeAt(t+1))||43===n)&&(r=1,n=e.charCodeAt(t+2)),tr(n)&&(t=tk(e,t+1+r+1))}return t}function tP(e,t){for(;t<e.length;t++){let n=e.charCodeAt(t);if(41===n){t++;break}tf(n,tw(e,t+1))&&(t=tR(e,t))}return t}let tD=10,tN=12,tj=13,tU=new Uint8Array(32);function tq(e,t){let n;function r(t){return t<l?e.charCodeAt(t):0}function i(){if(tm(r(c=tO(e,c)),r(c+1),r(c+2))){n=eY,c=tL(e,c);return}if(37===r(c)){n=eX,c++;return}n=eV}function s(){let t=c;if(c=tL(e,c),tT(e,t,c,"url")&&40===r(c)){if(34===r(c=tI(e,c+1))||39===r(c)){n=e$,c=t+4;return}a();return}if(40===r(c)){n=e$,c++;return}n=eB}function o(t){for(t||(t=r(c++)),n=ez;c<e.length;c++){let i=e.charCodeAt(c);switch(tA(i)){case t:c++;return;case tb:if(td(i)){c+=tC(e,c,i),n=eJ;return}break;case 92:if(c===e.length-1)break;let s=r(c+1);td(s)?c+=tC(e,c+1,s):tf(i,s)&&(c=tR(e,c)-1)}}}function a(){for(n=eW,c=tI(e,c);c<e.length;c++){let t=e.charCodeAt(c);switch(tA(t)){case 41:c++;return;case tb:if(41===r(c=tI(e,c))||c>=e.length){c<e.length&&c++;return}c=tP(e,c),n=eQ;return;case 34:case 39:case 40:case tS:c=tP(e,c),n=eQ;return;case 92:if(tf(t,r(c+1))){c=tR(e,c)-1;break}c=tP(e,c),n=eQ;return}}}let l=(e=String(e||"")).length,u=ty(r(0)),c=u;for(;c<l;){let a=e.charCodeAt(c);switch(tA(a)){case tb:n=eZ,c=tI(e,c+1);break;case 34:case 39:o();break;case 35:tc(r(c+1))||tf(r(c+1),r(c+2))?(n=eG,c=tL(e,c+1)):(n=eK,c++);break;case 40:n=e8,c++;break;case 41:n=e6,c++;break;case 43:case 46:tg(a,r(c+1),r(c+2))?i():(n=eK,c++);break;case 44:n=e3,c++;break;case 45:tg(a,r(c+1),r(c+2))?i():45===r(c+1)&&62===r(c+2)?(n=e1,c+=3):tm(a,r(c+1),r(c+2))?s():(n=eK,c++);break;case 47:42===r(c+1)?(n=tt,c=-1===(c=e.indexOf("*/",c+2))?e.length:c+2):(n=eK,c++);break;case 58:n=e2,c++;break;case 59:n=e4,c++;break;case 60:33===r(c+1)&&45===r(c+2)&&45===r(c+3)?(n=e0,c+=4):(n=eK,c++);break;case 64:tm(r(c+1),r(c+2),r(c+3))?(n=eH,c=tL(e,c+1)):(n=eK,c++);break;case 91:n=e5,c++;break;case 92:tf(a,r(c+1))?s():(n=eK,c++);break;case 93:n=e9,c++;break;case 123:n=e7,c++;break;case 125:n=te,c++;break;case tx:i();break;case tE:s();break;default:n=eK,c++}t(n,u,u=c)}}function tF(e){let t="0",n="1",r="auto",i=e.split(" ").filter(e=>e.trim());return 1===i.length?parseFloat(i[0]).toString()===i[0]?(t=i[0],r="0%"):"auto"===i[0]?r="auto":"none"===i[0]||(r=i[0]):2===i.length?(t=i[0],parseFloat(i[1]).toString()===i[1]?(n=i[1],r="0%"):(n="1",r=i[1])):3===i.length&&(t=i[0],n=i[1],r=i[2]),{flexGrow:t,flexShrink:n,flexBasis:r}}tU[e$]=e6,tU[e8]=e6,tU[e5]=e9,tU[e7]=te;let tB={display:{linear:[["--lynx-display-toggle","var(--lynx-display-linear)"],["--lynx-display","linear"],["display","flex"]],flex:[["--lynx-display-toggle","var(--lynx-display-flex)"],["--lynx-display","flex"],["display","flex"]]},direction:{"lynx-rtl":[["direction","rtl"]]},"linear-orientation":{none:[],horizontal:[["--lynx-linear-orientation","horizontal"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-horizontal)"]],"horizontal-reverse":[["--lynx-linear-orientation","horizontal-reverse"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-horizontal-reverse)"]],vertical:[["--lynx-linear-orientation","vertical"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-vertical)"]],"vertical-reverse":[["--lynx-linear-orientation","vertical-reverse"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-vertical-reverse)"]]},"linear-direction":{none:[],row:[["--lynx-linear-orientation","horizontal"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-horizontal)"]],"row-reverse":[["--lynx-linear-orientation","horizontal-reverse"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-horizontal-reverse)"]],column:[["--lynx-linear-orientation","vertical"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-vertical)"]],"column-reverse":[["--lynx-linear-orientation","vertical-reverse"],["--lynx-linear-orientation-toggle","var(--lynx-linear-orientation-vertical-reverse)"]]},"linear-gravity":{none:[],top:[["--justify-content-column","flex-start"],["--justify-content-column-reverse","flex-end"],["--justify-content-row","flex-start"],["--justify-content-row-reverse","flex-start"]],bottom:[["--justify-content-column","flex-end"],["--justify-content-column-reverse","flex-start"],["--justify-content-row","flex-start"],["--justify-content-row-reverse","flex-start"]],left:[["--justify-content-column","flex-start"],["--justify-content-column-reverse","flex-start"],["--justify-content-row","flex-start"],["--justify-content-row-reverse","flex-end"]],right:[["--justify-content-column","flex-start"],["--justify-content-column-reverse","flex-start"],["--justify-content-row","flex-end"],["--justify-content-row-reverse","flex-start"]],"center-vertical":[["--justify-content-column","center"],["--justify-content-column-reverse","center"],["--justify-content-row","flex-start"],["--justify-content-row-reverse","flex-start"]],"center-horizontal":[["--justify-content-column","flex-start"],["--justify-content-column-reverse","flex-start"],["--justify-content-row","center"],["--justify-content-row-reverse","center"]],start:[["--justify-content-column","flex-start"],["--justify-content-column-reverse","flex-start"],["--justify-content-row","flex-start"],["--justify-content-row-reverse","flex-start"]],end:[["--justify-content-column","flex-end"],["--justify-content-column-reverse","flex-end"],["--justify-content-row","flex-end"],["--justify-content-row-reverse","flex-end"]],center:[["--justify-content-column","center"],["--justify-content-column-reverse","center"],["--justify-content-row","center"],["--justify-content-row-reverse","center"]],"space-between":[["--justify-content-column","space-between"],["--justify-content-column-reverse","space-between"],["--justify-content-row","space-between"],["--justify-content-row-reverse","space-between"]]},"linear-cross-gravity":{none:[],start:[["align-items","start"]],end:[["align-items","end"]],center:[["align-items","center"]],stretch:[["align-items","stretch"]]},"linear-layout-gravity":{none:[["--align-self-row","auto"],["--align-self-column","auto"]],stretch:[["--align-self-row","stretch"],["--align-self-column","stretch"]],top:[["--align-self-row","start"],["--align-self-column","auto"]],bottom:[["--align-self-row","end"],["--align-self-column","auto"]],left:[["--align-self-row","auto"],["--align-self-column","start"]],right:[["--align-self-row","auto"],["--align-self-column","end"]],start:[["--align-self-row","start"],["--align-self-column","start"]],end:[["--align-self-row","end"],["--align-self-column","end"]],center:[["--align-self-row","center"],["--align-self-column","center"]],"center-vertical":[["--align-self-row","center"],["--align-self-column","start"]],"center-horizontal":[["--align-self-row","start"],["--align-self-column","center"]],"fill-vertical":[["--align-self-row","stretch"],["--align-self-column","auto"]],"fill-horizontal":[["--align-self-row","auto"],["--align-self-column","stretch"]]},"justify-content":{left:[],right:[],start:[["justify-content","flex-start"]],end:[["justify-content","flex-end"]]}},t$={"linear-weight":["--lynx-linear-weight",{name:"--lynx-linear-weight-basis",valueProcessor:e=>"0"===e?"auto":"0"}],color:[{name:"--lynx-color-toggle",valueProcessor:e=>e.includes("gradient")?"var(--lynx-color-gradient)":"var(--lynx-color-normal)"},"color","--lynx-color"],"flex-direction":["--flex-direction"],"flex-wrap":["--flex-wrap"],"flex-grow":["--flex-grow"],"flex-shrink":["--flex-shrink"],"flex-basis":["--flex-basis"],"list-main-axis-gap":["--list-main-axis-gap"],"list-cross-axis-gap":["--list-cross-axis-gap"]};function tH(e){let t=[],n=[];for(let r of e){let[e,i]=r,s=tB[e];if(s?.[i])for(let[e,n]of s[i])t.push([e,n]);else if(t$[e]){let n=i.includes("!important");for(let r of t$[e])"string"==typeof r?t.push([r,i]):t.push([r.name,r.valueProcessor(i.replace("!important","").trim())+(n?" !important":"")])}else if("flex"===e){let{flexGrow:e,flexShrink:n,flexBasis:r}=tF(i);t.push(["--flex-grow",e],["--flex-shrink",n],["--flex-basis",r])}else t.push(r);if("linear-weight-sum"===e){let e=i;("0"===e||"0 !important"===e)&&(e="1"),n.push(["--lynx-linear-weight-sum",e])}}return{transformedStyle:t,childStyle:n}}function tG(e){let t=[],n=!0,r=0,i=0,s=0,o=0;return tq(e+";",(a,l,u)=>{if(a===e4||eF){o=l;let a=e.substring(r,i).trim(),c=e.substring(s,o).trim();!n&&c&&a&&t.push([a,c]),n=!0,r=u}else a===e2&&n&&(n=!1,s=u,i=l)}),t}function tz(e){return tJ(tG(e))}function tJ(e){return tH(e)}function tW(e,t){function n(n,r){if(r?n.setAttribute("class",r):n.removeAttribute("class"),!e.config.pageConfig.enableCSSSelector){let i=eq(r??"",t,n.getAttribute(a));e[t1](e[tZ].get(n).uniqueId,i??"")}}function r(t,r){for(let i of(r=r.toString(),t))if(i.setAttribute(a,r),!e.config.pageConfig.enableCSSSelector){let e=i.getAttribute("class");e&&n(i,e)}}return{__AddClass:function(n,r){let i=((n.className??"")+" "+r).trim();if(n.setAttribute("class",i),!e.config.pageConfig.enableCSSSelector){let r=eq(i,t,n.getAttribute(a));e[t1](e[tZ].get(n).uniqueId,r)}},__SetClasses:n,__GetClasses:function(e){return(e.className??"").split(" ").filter(e=>e)},__AddInlineStyle:function(e,t,n){let r=eU(Number(t)),i="number"==typeof n?n.toString():n;if(i){let{transformedStyle:t}=tJ([[r.dashName,i]]);for(let[n,r]of t)e.style.setProperty(n,r)}else e.style.removeProperty(r.dashName)},__SetInlineStyles:function(e,t){if(!t)return;let{transformedStyle:n}="string"==typeof t?tz(t):tJ(Object.entries(t).map(([e,t])=>[eR(e),t])),r=n.map(([e,t])=>`${e}:${t};`).join("");e.setAttribute("style",r)},__SetCSSId:r}}function tQ(e){function t(n){let r=e[n],i=r?.imports;if(r&&i?.length){for(let e of i){let n=t(e);n&&(r.content.push(...n.content),r.rules.push(...n.rules))}r.imports=void 0}return r}Object.keys(e).map(e=>{t(e)})}function tK(e){for(let t of Object.values(e))for(let e of t.rules){let{sel:n,decl:r}=e,{transformedStyle:i,childStyle:s}=tH(r);e.decl=i,s.length>0&&t.rules.push({sel:n.map(e=>[e[0].concat([">","*"]),e[1],e[2]]),decl:s})}}function tV(e,t){function n(e){let n="",r="";return t.enableRemoveCSSScope?r+=`[${u}]`:void 0!==e?r+=`[${a}="${e}"]`:r+=`[${u}]`,{prepend:n,suffix:r}}let r=[];for(let[t,i]of Object.entries(e)){let{prepend:e,suffix:s}=n(t),o=i.rules.map(t=>{let{sel:n,decl:r}=t,i=n.map(([t,n,r])=>[e,t.join(""),s,n.join(""),r.join("")].join("")).join(","),o=r.map(([e,t])=>`${e}:${t};`).join("");return`${i}{${o}}`}).join("");r.push(...i.content,o)}return r.join("\n")}function tX(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>{let n={};return t.rules=t.rules.filter(e=>(e.sel=e.sel.filter(t=>{let[r,i,s]=t;if(1===r.length&&"."===r[0][0]&&0===i.length&&0===s.length){let t=r[0].substring(1),i=n[t];return i?i.push(...e.decl):n[t]=e.decl,!1}return!0}),e.sel.length>0)),[e,n]}))}function tY(e){let t=e.config.callbacks.postExposure,n=!0,r=[],i=[],s=new Map;function a(t){let n=ew(e,t,t.type);n.detail["unique-id"]=parseFloat(t.target.getAttribute(o));let a=n.detail.exposureID;"exposure"===t.type?(r.push(n),s.set(a,n)):(i.push(n),s.delete(a))}return setInterval(()=>{if(r.length>0||i.length>0){let e=r,n=i;r=[],i=[],t({exposures:e,disExposures:n})}},50),e._rootDom.addEventListener("exposure",a,{passive:!0}),e._rootDom.addEventListener("disexposure",a,{passive:!0}),{switchExposureService:function(e,r){e&&!n?t({exposures:[...s.values()],disExposures:[]}):!e&&n&&r&&t({exposures:[],disExposures:[...s.values()]}),n=e}}}let tZ=Symbol("elementToRuntimeInfoMap"),t0=Symbol("getElementByUniqueId"),t1=Symbol("updateCSSInJsStyle"),t2=Symbol("lynxUniqueIdToElement"),t4=Symbol("switchExposureService");class t3{config;[t2]=[];[t4];_lynxUniqueIdToStyleSheet=[];_page;_rootDom;_timingFlags=[];[tZ]=new WeakMap;constructor(e){this.config=e,this.__globalProps=e.globalProps,this.lynx=ec(e,this),tQ(this.config.styleInfo),tK(this.config.styleInfo);let t=this.config.pageConfig.enableCSSSelector?{}:tX(this.config.styleInfo);this._rootDom=this.config.docu.createElement("div");let n=this.config.docu.createElement("style");for(let e of(n.innerHTML=tV(this.config.styleInfo,this.config.pageConfig),this._rootDom=this.config.docu,this._rootDom.append(n),Object.assign(this,ep(this),i,eC(this),tW(this,t),eh(this)),this._ReportError=this.config.callbacks._ReportError,this.__OnLifecycleEvent=this.config.callbacks.__OnLifecycleEvent,this[t4]=tY(this).switchExposureService,Object.defineProperty(this,"renderPage",{get:()=>this.#s,set:e=>{this.#s=e,queueMicrotask(this.config.callbacks.mainChunkReady)}}),d))Object.defineProperty(this,e,{get:()=>this.__lynxGlobalBindingValues[e],set:t=>{for(let n of(this.__lynxGlobalBindingValues[e]=t,this.__varsUpdateHandlers))n()}})}[t0](e){return this[t2][e]?.deref()}[t1](e,t){let n=this._lynxUniqueIdToStyleSheet[e]?.deref();n||(n=this.config.docu.createElement("style"),this._lynxUniqueIdToStyleSheet[e]=new WeakRef(n),this._rootDom.append(n)),n.innerHTML=`[${o}="${e}"]{${t}}`}__lynxGlobalBindingValues={};get globalThis(){return this}lynx;__globalProps;processData;#s;_ReportError;__OnLifecycleEvent;__LoadLepusChunk=e=>{try{return this.lynx.requireModule(e),!0}catch{}return!1};__FlushElementTree=(e,t)=>{let n=this._timingFlags;this._timingFlags=[],this._page&&!this._page.parentElement&&this._rootDom.append(this._page),this.config.callbacks.flushElementTree(t,n)};updatePage;runWorklet;__varsUpdateHandlers=[];set _updateVars(e){this.__varsUpdateHandlers.push(e)}}function t5(e,t){e.registerHandler(I,(e,n)=>{t[e](n)})}function t9(e,t){e.registerHandler(P,e=>t[e]?.content)}function t8(e){return(t,n)=>{e.invoke(D,[t,n,performance.now()+performance.timeOrigin])}}function t6(e,t){e.registerHandler(S,(...e)=>{t.updatePage?.(...e)})}let t7={CreateElement:1,SetAttribute:2,RemoveAttribute:3,Append:4,Remove:5,ReplaceWith:6,InsertBefore:7,EnableEvent:8,RemoveChild:9,StyleDeclarationSetProperty:10,StyleDeclarationRemoveProperty:11,SetInnerHTML:12},ne=Symbol("uniqueId");Symbol("ancestorDocument");class nt extends EventTarget{_enableEvent;_parentElement=null;_children=[];[ne];constructor(e,t){super(),this._enableEvent=t,this[ne]=e}get children(){return this._children.slice()}get parentElement(){return this._parentElement}get firstElementChild(){return this._children[0]??null}get lastElementChild(){return this._children[this._children.length-1]??null}get nextElementSibling(){let e=this._parentElement;if(e){let t=e._children.indexOf(this);if(t>=0)return e._children[t+1]||null}return null}append(...e){for(let t of e)t._remove(),t._parentElement=this;this._children.push(...e)}replaceWith(...e){if(this._parentElement){let t=this._parentElement;this._parentElement=null;let n=t._children.indexOf(this);for(let r of(t._children.splice(n,1,...e),e))r._parentElement=t}}_remove(){if(this._parentElement){let e=this._parentElement._children.indexOf(this);this._parentElement._children.splice(e,1),this._parentElement=null}}insertBefore(e,t){if(e._remove(),t){let n=this._children.indexOf(t);n>=0&&(e._parentElement=this,this._children.splice(n,0,e))}else e._parentElement=this,this._children.push(e);return e}removeChild(e){if(!e||e._parentElement!==this)throw new DOMException("The node to be removed is not a child of this node.","NotFoundError");return e._remove(),e}addEventListener(e,t,n){this._enableEvent(e,this[ne]),super.addEventListener(e,t,n)}}class nn{_parent;constructor(e){this._parent=e}setProperty(e,t,n){this._parent[nr][nc].push({type:t7.StyleDeclarationSetProperty,uid:this._parent[ne],property:e,value:t,priority:n})}removeProperty(e){this._parent[nr][nc].push({type:t7.StyleDeclarationRemoveProperty,uid:this._parent[ne],property:e})}}let nr=Symbol("ancestorDocument"),ni=Symbol("_style"),ns=Symbol("_attributes");class no extends nt{[ni];[ns]={};[nr];tagName;constructor(e,t,n){super(n,t[nh]),this.tagName=e.toUpperCase(),this[nr]=t}get style(){return this[ni]||(this[ni]=new nn(this)),this[ni]}get id(){return this[ns].id??""}set id(e){this[ns].id=e,this.setAttribute("id",e)}get className(){return this[ns].class??""}setAttribute(e,t){this[ns][e]=t,this[nr][nc].push({type:t7.SetAttribute,uid:this[ne],key:e,value:t})}getAttribute(e){return this[ns][e]??null}removeAttribute(e){delete this[ns][e],this[nr][nc].push({type:t7.RemoveAttribute,uid:this[ne],key:e})}append(...e){this[nr][nc].push({type:t7.Append,uid:this[ne],cid:e.map(e=>e[ne])}),super.append(...e)}replaceWith(...e){return this[nr][nc].push({type:t7.ReplaceWith,uid:this[ne],nid:e.map(e=>e[ne])}),super.replaceWith(...e)}getAttributeNames(){return Object.keys(this[ns])}remove(){this.parentElement&&(this[nr][nc].push({type:t7.Remove,uid:this[ne]}),super._remove())}insertBefore(e,t){let n=super.insertBefore(e,t);return this[nr][nc].push({type:t7.InsertBefore,uid:this[ne],cid:e[ne],ref:t?.[ne]}),n}removeChild(e){let t=super.removeChild(e);return this[nr][nc].push({type:t7.RemoveChild,uid:this[ne],cid:e[ne]}),t}set innerHTML(e){this[nr][nc].push({type:t7.SetInnerHTML,text:e,uid:this[ne]})}}let na=Symbol("propagationStopped"),nl=Symbol("eventPhase");class nu extends Event{_target;[nl]=Event.CAPTURING_PHASE;constructor(e,t){super(e),this._target=t}get target(){return this._target}[na]=!1;stopImmediatePropagation(){this[na]=!0,super.stopImmediatePropagation()}stopPropagation(){this[na]=!0,super.stopPropagation()}get eventPhase(){return this[nl]}}let nc=Symbol("operations"),nh=Symbol("enableEvent"),nd=Symbol("getElementByUniqueId"),np=Symbol("_onEvent"),nf=Symbol("uniqueIdInc"),nm=Symbol("_uniqueIdToElement");class ng extends nt{_callbacks;[nf]=1;[nm]=[];[nc]=[];[nd](e){return this[nm][e]?.deref()}[nh];constructor(e){let t=(e,t)=>{this[nc].push({type:t7.EnableEvent,eventType:e,uid:t})};super(0,t),this._callbacks=e,this[nh]=t}commit(){let e=this[nc];this[nc]=[],this._callbacks.onCommit(e)}append(e){this[nc].push({type:t7.Append,uid:0,cid:[e[ne]]}),super.append(e)}createElement(e){let t=this[nf]++,n=new no(e,this,t);return this[nm][t]=new WeakRef(n),this[nc].push({type:t7.CreateElement,uid:t,tag:e}),n}[np]=(e,t,n,r)=>{let i=this[nd](t);if(i){let t=[],s=i;for(;s.parentElement;)t.push(s.parentElement),s=s.parentElement;let o=new nu(e,i);Object.assign(o,r),o[nl]=Event.CAPTURING_PHASE;for(let e=t.length-1;e>=0;e--)if(t[e].dispatchEvent(o),o[na])return;if(o[nl]=Event.AT_TARGET,i.dispatchEvent(o),n){for(let e of(o[nl]=Event.BUBBLING_PHASE,t))if(e.dispatchEvent(o),o[na])return}}}}function ny(e,t){let n=new s(e,"main-to-ui"),r=new s(t,"main-to-bg"),i=t8(r),o=r.createCall(N),a=r.createCall(C),l=r.createCall(B),u=r.createCall(v),c=r.createCall(_),h=r.createCall(y),d=[],p=n.createCall(T),f=n.createCall(M);i("lepus_excute_start"),n.registerHandler(E,async e=>{let t=!0,{globalProps:s,template:m,browserConfig:g,nativeModulesMap:y,napiModulesMap:_,tagMap:v}=e,{styleInfo:E,pageConfig:S,customSections:A,cardType:w,lepusCode:C}=m;i("decode_start"),await import(m.lepusCode.root);let M=globalThis.module.exports,T=new ng({onCommit:e=>{d=e}});n.registerHandler(b,T[np]);let I=new t3({tagMap:v,browserConfig:g,customSections:A,globalProps:s,pageConfig:S,styleInfo:E,lepusCode:C,docu:T,callbacks:{mainChunkReady:()=>{i("data_processor_start");let t=I.processData?I.processData(e.initData):e.initData;i("data_processor_end"),t5(r,I),t9(r,A),t6(n,I),r.registerHandler(x,I[t4]),a({initData:t,globalProps:s,template:m,cardType:w??"react",customSections:Object.fromEntries(Object.entries(A).filter(([,e])=>"lazy"!==e.type).map(([e,t])=>[e,t.content])),nativeModulesMap:y,napiModulesMap:_}),I.renderPage(t),I.__FlushElementTree(void 0,{})},flushElementTree:async(e,n)=>{let r=e?.pipelineOptions?.pipelineID;i("dispatch_start",r),T.commit(),t&&(t=!1,l("__OnNativeAppReady",void 0)),i("layout_start",r),i("ui_operation_flush_start",r),await p(d),i("ui_operation_flush_end",r),i("layout_end",r),i("dispatch_end",r),o(n,r)},_ReportError:f,__OnLifecycleEvent:e=>{l("__OnLifecycleEvent",e)},markTiming:(e,t)=>i(t,e),publishEvent:u,publicComponentEvent:c,postExposure:h}}).globalThis;i("decode_end"),M(I)})}self.onmessage=e=>{let{mode:t,toPeerThread:n,toUIThread:r,pixelRatio:i}=e.data;globalThis.SystemInfo.pixelRatio=i,"main"===t?ny(r,n):eu(r,n)},Object.assign(globalThis,{SystemInfo:{platform:"web",lynxSdkVersion:"3.0"},module:{exports:null}})})()})();